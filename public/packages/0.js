steal('//javascripts/grid.locale-en/grid.locale-en.js'
,'//javascripts/jquery.jqGrid.min/jquery.jqGrid.min.js');
steal.end();
/* javascripts/grid.locale-en/grid.locale-en.js */
(function(b){b.jgrid={defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}"},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:["equal","not equal","less","less or equal","greater","greater or equal","begins with","does not begin with","is in","is not in","ends with","does not end with","contains","does not contain"],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],matchText:" match",rulesText:" rules"},edit:{addCaption:"Add Record",
editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",
nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",
refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:" ",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:" ",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:" ",
decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(a){return a<11||a>13?["st","nd","rd","th"][Math.min((a-1)%10,3)]:"th"},srcformat:"Y-m-d",
newformat:"d/m/Y",masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:false},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:true},idName:"id"}}})(jQuery);
;steal.end();
/* javascripts/jquery.jqGrid.min/jquery.jqGrid.min.js */
(function(a){a.jgrid=a.jgrid||{};a.extend(a.jgrid,{htmlDecode:function(d){if(d=="&nbsp;"||d=="&#160;"||d.length==1&&d.charCodeAt(0)==160)return"";return!d?d:String(d).replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"')},htmlEncode:function(d){return!d?d:String(d).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/\"/g,"&quot;")},format:function(d){var f=a.makeArray(arguments).slice(1);if(d===undefined)d="";return d.replace(/\{(\d+)\}/g,function(c,
e){return f[e]})},getCellIndex:function(d){d=a(d);if(d.is("tr"))return-1;d=(!d.is("td")&&!d.is("th")?d.closest("td,th"):d)[0];if(a.browser.msie)return a.inArray(d,d.parentNode.cells);return d.cellIndex},stripHtml:function(d){d+="";var f=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return d?(d=d.replace(f,""))&&d!=="&nbsp;"&&d!=="&#160;"?d.replace(/\"/g,"'"):"":d},stringToDoc:function(d){var f;if(typeof d!=="string")return d;try{f=(new DOMParser).parseFromString(d,"text/xml")}catch(c){f=new ActiveXObject("Microsoft.XMLDOM");
f.async=false;f.loadXML(d)}return f&&f.documentElement&&f.documentElement.tagName!="parsererror"?f:null},parse:function(d){d=d;if(d.substr(0,9)=="while(1);")d=d.substr(9);if(d.substr(0,2)=="/*")d=d.substr(2,d.length-4);d||(d="{}");return a.jgrid.useJSON===true&&typeof JSON==="object"&&typeof JSON.parse==="function"?JSON.parse(d):eval("("+d+")")},parseDate:function(d,f){var c={m:1,d:1,y:1970,h:0,i:0,s:0},e,g,h;if(f&&f!==null&&f!==undefined){f=a.trim(f);f=f.split(/[\\\/:_;.\t\T\s-]/);d=d.split(/[\\\/:_;.\t\T\s-]/);
var i=a.jgrid.formatter.date.monthNames,b=a.jgrid.formatter.date.AmPm,l=function(o,w){if(o===0){if(w==12)w=0}else if(w!=12)w+=12;return w};e=0;for(g=d.length;e<g;e++){if(d[e]=="M"){h=a.inArray(f[e],i);if(h!==-1&&h<12)f[e]=h+1}if(d[e]=="F"){h=a.inArray(f[e],i);if(h!==-1&&h>11)f[e]=h+1-12}if(d[e]=="a"){h=a.inArray(f[e],b);if(h!==-1&&h<2&&f[e]==b[h]){f[e]=h;c.h=l(f[e],c.h)}}if(d[e]=="A"){h=a.inArray(f[e],b);if(h!==-1&&h>1&&f[e]==b[h]){f[e]=h-2;c.h=l(f[e],c.h)}}if(f[e]!==undefined)c[d[e].toLowerCase()]=
parseInt(f[e],10)}c.m=parseInt(c.m,10)-1;d=c.y;if(d>=70&&d<=99)c.y=1900+c.y;else if(d>=0&&d<=69)c.y=2E3+c.y}return new Date(c.y,c.m,c.d,c.h,c.i,c.s,0)},jqID:function(d){d+="";return d.replace(/([\.\:\[\]])/g,"\\$1")},getAccessor:function(d,f){var c,e,g,h;if(typeof f==="function")return f(d);c=d[f];if(c===undefined)try{if(typeof f==="string")g=f.split(".");if(h=g.length)for(c=d;c&&h--;){e=g.shift();c=c[e]}}catch(i){}return c},ajaxOptions:{},from:function(d){return new (function(f,c){if(typeof f=="string")f=
a.data(f);var e=this,g=f,h=true,i=false,b=c,l=/[\$,%]/g,o=null,w=null,p=false,u="",q=[],s=true;if(typeof f=="object"&&f.push){if(f.length>0)s=typeof f[0]!="object"?false:true}else throw"data provides is not an array";this._hasData=function(){return g===null?false:g.length===0?false:true};this._getStr=function(k){var m=[];i&&m.push("jQuery.trim(");m.push("String("+k+")");i&&m.push(")");h||m.push(".toLowerCase()");return m.join("")};this._strComp=function(k){return typeof k=="string"?".toString()":
""};this._group=function(k,m){return{field:k.toString(),unique:m,items:[]}};this._toStr=function(k){if(i)k=a.trim(k);h||(k=k.toLowerCase());return k.toString().replace(new RegExp('\\"',"g"),'\\"')};this._funcLoop=function(k){var m=[];a.each(g,function(v,y){m.push(k(y))});return m};this._append=function(k){if(b===null)b="";else b+=u===""?" && ":u;if(p)b+="!";b+="("+k+")";p=false;u=""};this._setCommand=function(k,m){o=k;w=m};this._resetNegate=function(){p=false};this._repeatCommand=function(k,m){if(o===
null)return e;if(k!=null&&m!=null)return o(k,m);if(w===null)return o(k);if(!s)return o(k);return o(w,k)};this._equals=function(k,m){return e._compare(k,m,1)===0};this._compare=function(k,m,v){if(v===undefined)v=1;if(k===undefined)k=null;if(m===undefined)m=null;if(k===null&&m===null)return 0;if(k===null&&m!==null)return 1;if(k!==null&&m===null)return-1;if(!h&&typeof k!=="number"&&typeof m!=="number"){k=String(k).toLowerCase();m=String(m).toLowerCase()}if(k<m)return-v;if(k>m)return v;return 0};this._performSort=
function(){if(q.length!==0)g=e._doSort(g,0)};this._doSort=function(k,m){var v=q[m].by,y=q[m].dir,x=q[m].type,D=q[m].datefmt;if(m==q.length-1)return e._getOrder(k,v,y,x,D);m++;k=e._getGroup(k,v,y,x,D);v=[];for(y=0;y<k.length;y++){x=e._doSort(k[y].items,m);for(D=0;D<x.length;D++)v.push(x[D])}return v};this._getOrder=function(k,m,v,y,x){var D=[],M=[],V=v=="a"?1:-1,t,O;if(y===undefined)y="text";O=y=="float"||y=="number"||y=="currency"||y=="numeric"?function(W){W=parseFloat(String(W).replace(l,""));return isNaN(W)?
0:W}:y=="int"||y=="integer"?function(W){return W?parseFloat(String(W).replace(l,"")):0}:y=="date"||y=="datetime"?function(W){return a.jgrid.parseDate(x,W).getTime()}:a.isFunction(y)?y:function(W){W||(W="");return a.trim(String(W).toUpperCase())};a.each(k,function(W,X){t=m!==""?a.jgrid.getAccessor(X,m):X;if(t===undefined)t="";t=O(t,X);M.push({vSort:t,index:W})});M.sort(function(W,X){W=W.vSort;X=X.vSort;return e._compare(W,X,V)});y=0;for(var Y=k.length;y<Y;){v=M[y].index;D.push(k[v]);y++}return D};
this._getGroup=function(k,m,v,y,x){var D=[],M=null,V=null,t;a.each(e._getOrder(k,m,v,y,x),function(O,Y){t=a.jgrid.getAccessor(Y,m);if(t===undefined)t="";if(!e._equals(V,t)){V=t;M!=null&&D.push(M);M=e._group(m,t)}M.items.push(Y)});M!=null&&D.push(M);return D};this.ignoreCase=function(){h=false;return e};this.useCase=function(){h=true;return e};this.trim=function(){i=true;return e};this.noTrim=function(){i=false;return e};this.combine=function(k){var m=a.from(g);h||m.ignoreCase();i&&m.trim();k=k(m).showQuery();
e._append(k);return e};this.execute=function(){var k=b,m=[];if(k===null)return e;a.each(g,function(){eval(k)&&m.push(this)});g=m;return e};this.data=function(){return g};this.select=function(k){e._performSort();if(!e._hasData())return[];e.execute();if(a.isFunction(k)){var m=[];a.each(g,function(v,y){m.push(k(y))});return m}return g};this.hasMatch=function(){if(!e._hasData())return false;e.execute();return g.length>0};this.showQuery=function(k){var m=b;if(m===null)m="no query found";if(a.isFunction(k)){k(m);
return e}return m};this.andNot=function(k,m,v){p=!p;return e.and(k,m,v)};this.orNot=function(k,m,v){p=!p;return e.or(k,m,v)};this.not=function(k,m,v){return e.andNot(k,m,v)};this.and=function(k,m,v){u=" && ";if(k===undefined)return e;return e._repeatCommand(k,m,v)};this.or=function(k,m,v){u=" || ";if(k===undefined)return e;return e._repeatCommand(k,m,v)};this.isNot=function(k){p=!p;return e.is(k)};this.is=function(k){e._append("this."+k);e._resetNegate();return e};this._compareValues=function(k,m,
v,y,x){var D;D=s?"this."+m:"this";if(v===undefined)v=null;v=v===null?m:v;switch(x.stype===undefined?"text":x.stype){case "int":case "integer":v=isNaN(Number(v))?"0":v;D="parseInt("+D+",10)";v="parseInt("+v+",10)";break;case "float":case "number":case "numeric":v=String(v).replace(l,"");v=isNaN(Number(v))?"0":v;D="parseFloat("+D+")";v="parseFloat("+v+")";break;case "date":case "datetime":v=String(a.jgrid.parseDate(x.newfmt||"Y-m-d",v).getTime());D='jQuery.jgrid.parseDate("'+x.srcfmt+'",'+D+").getTime()";
break;default:D=e._getStr(D);v=e._getStr('"'+e._toStr(v)+'"')}e._append(D+" "+y+" "+v);e._setCommand(k,m);e._resetNegate();return e};this.equals=function(k,m,v){return e._compareValues(e.equals,k,m,"==",v)};this.greater=function(k,m,v){return e._compareValues(e.greater,k,m,">",v)};this.less=function(k,m,v){return e._compareValues(e.less,k,m,"<",v)};this.greaterOrEquals=function(k,m,v){return e._compareValues(e.greaterOrEquals,k,m,">=",v)};this.lessOrEquals=function(k,m,v){return e._compareValues(e.lessOrEquals,
k,m,"<=",v)};this.startsWith=function(k,m){var v=m===undefined||m===null?k:m;v=i?a.trim(v.toString()).length:v.toString().length;if(s)e._append(e._getStr("this."+k)+".substr(0,"+v+") == "+e._getStr('"'+e._toStr(m)+'"'));else{v=i?a.trim(m.toString()).length:m.toString().length;e._append(e._getStr("this")+".substr(0,"+v+") == "+e._getStr('"'+e._toStr(k)+'"'))}e._setCommand(e.startsWith,k);e._resetNegate();return e};this.endsWith=function(k,m){var v=m===undefined||m===null?k:m;v=i?a.trim(v.toString()).length:
v.toString().length;s?e._append(e._getStr("this."+k)+".substr("+e._getStr("this."+k)+".length-"+v+","+v+') == "'+e._toStr(m)+'"'):e._append(e._getStr("this")+".substr("+e._getStr("this")+'.length-"'+e._toStr(k)+'".length,"'+e._toStr(k)+'".length) == "'+e._toStr(k)+'"');e._setCommand(e.endsWith,k);e._resetNegate();return e};this.contains=function(k,m){s?e._append(e._getStr("this."+k)+'.indexOf("'+e._toStr(m)+'",0) > -1'):e._append(e._getStr("this")+'.indexOf("'+e._toStr(k)+'",0) > -1');e._setCommand(e.contains,
k);e._resetNegate();return e};this.groupBy=function(k,m,v,y){if(!e._hasData())return null;return e._getGroup(g,k,m,v,y)};this.orderBy=function(k,m,v,y){m=m===undefined||m===null?"a":a.trim(m.toString().toLowerCase());if(v===null||v===undefined)v="text";if(y===null||y===undefined)y="Y-m-d";if(m=="desc"||m=="descending")m="d";if(m=="asc"||m=="ascending")m="a";q.push({by:k,dir:m,type:v,datefmt:y});return e};return e})(d,null)},extend:function(d){a.extend(a.fn.jqGrid,d);this.no_legacy_api||a.fn.extend(d)}});
a.fn.jqGrid=function(d){if(typeof d=="string"){var f=a.jgrid.getAccessor(a.fn.jqGrid,d);if(!f)throw"jqGrid - No such method: "+d;var c=a.makeArray(arguments).slice(1);return f.apply(this,c)}return this.each(function(){if(!this.grid){var e=a.extend(true,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:true,pginput:true,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:false,selarrrow:[],savedRow:[],shrinkToFit:true,xmlReader:{},
jsonReader:{},subGrid:false,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,onHeaderClick:null,viewrecords:false,loadonce:false,multiselect:false,multikey:false,editurl:null,search:false,caption:"",hidegrid:true,hiddengrid:false,postData:{},userData:{},treeGrid:false,
treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:false,gridstate:"visible",cellEdit:false,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[false,""],scroll:false,multiboxonly:false,deselectAfterSort:true,scrollrows:false,autowidth:false,scrollOffset:18,cellLayout:5,
subGridWidth:20,multiselectWidth:20,gridview:false,rownumWidth:25,rownumbers:false,pagerpos:"center",recordpos:"right",footerrow:false,userDataOnFooter:false,hoverrows:true,altclass:"ui-priority-secondary",viewsortcols:[false,"vertical",true],resizeclass:"",autoencode:false,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:false,headertitles:false,scrollTimeout:40,data:[],_index:{},grouping:false,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:false,
sortitems:[],sortnames:[],groupDataSorted:false,summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus"},ignoreCase:false},a.jgrid.defaults,d||{}),g={headers:[],cols:[],footers:[],dragStart:function(j,n,r){this.resizing={idx:j,startX:n.clientX,sOL:r[0]};this.hDiv.style.cursor="col-resize";this.curGbox=a("#rs_m"+e.id,"#gbox_"+e.id);this.curGbox.css({display:"block",left:r[0],top:r[1],height:r[2]});a.isFunction(e.resizeStart)&&e.resizeStart.call(this,n,j);
document.onselectstart=function(){return false}},dragMove:function(j){if(this.resizing){var n=j.clientX-this.resizing.startX;j=this.headers[this.resizing.idx];var r=e.direction==="ltr"?j.width+n:j.width-n,B;if(r>33){this.curGbox.css({left:this.resizing.sOL+n});if(e.forceFit===true){B=this.headers[this.resizing.idx+e.nv];n=e.direction==="ltr"?B.width-n:B.width+n;if(n>33){j.newWidth=r;B.newWidth=n}}else{this.newWidth=e.direction==="ltr"?e.tblwidth+n:e.tblwidth-n;j.newWidth=r}}}},dragEnd:function(){this.hDiv.style.cursor=
"default";if(this.resizing){var j=this.resizing.idx,n=this.headers[j].newWidth||this.headers[j].width;n=parseInt(n,10);this.resizing=false;a("#rs_m"+e.id).css("display","none");e.colModel[j].width=n;this.headers[j].width=n;this.headers[j].el.style.width=n+"px";this.cols[j].style.width=n+"px";if(this.footers.length>0)this.footers[j].style.width=n+"px";if(e.forceFit===true){n=this.headers[j+e.nv].newWidth||this.headers[j+e.nv].width;this.headers[j+e.nv].width=n;this.headers[j+e.nv].el.style.width=n+
"px";this.cols[j+e.nv].style.width=n+"px";if(this.footers.length>0)this.footers[j+e.nv].style.width=n+"px";e.colModel[j+e.nv].width=n}else{e.tblwidth=this.newWidth||e.tblwidth;a("table:first",this.bDiv).css("width",e.tblwidth+"px");a("table:first",this.hDiv).css("width",e.tblwidth+"px");this.hDiv.scrollLeft=this.bDiv.scrollLeft;if(e.footerrow){a("table:first",this.sDiv).css("width",e.tblwidth+"px");this.sDiv.scrollLeft=this.bDiv.scrollLeft}}a.isFunction(e.resizeStop)&&e.resizeStop.call(this,n,j)}this.curGbox=
null;document.onselectstart=function(){return true}},populateVisible:function(){g.timer&&clearTimeout(g.timer);g.timer=null;var j=a(g.bDiv).height();if(j){var n=a("table:first",g.bDiv),r=a("> tbody > tr:gt(0):visible:first",n).outerHeight()||g.prevRowHeight;if(r){g.prevRowHeight=r;var B=e.rowNum,A=g.scrollTop=g.bDiv.scrollTop,J=Math.round(n.position().top)-A,F=J+n.height();r*=B;var P,R,C;if(F<j&&J<=0&&(e.lastpage===undefined||parseInt((F+A+r-1)/r,10)<=e.lastpage)){R=parseInt((j-F+r-1)/r,10);if(F>=
0||R<2||e.scroll===true){P=Math.round((F+A)/r)+1;J=-1}else J=1}if(J>0){P=parseInt(A/r,10)+1;R=parseInt((A+j)/r,10)+2-P;C=true}if(R)if(!(e.lastpage&&P>e.lastpage||e.lastpage==1))if(g.hDiv.loading)g.timer=setTimeout(g.populateVisible,e.scrollTimeout);else{e.page=P;if(C){g.selectionPreserver(n[0]);g.emptyRows(g.bDiv,false)}g.populate(R)}}}},scrollGrid:function(){if(e.scroll){var j=g.bDiv.scrollTop;if(g.scrollTop===undefined)g.scrollTop=0;if(j!=g.scrollTop){g.scrollTop=j;g.timer&&clearTimeout(g.timer);
g.timer=setTimeout(g.populateVisible,e.scrollTimeout)}}g.hDiv.scrollLeft=g.bDiv.scrollLeft;if(e.footerrow)g.sDiv.scrollLeft=g.bDiv.scrollLeft},selectionPreserver:function(j){var n=j.p,r=n.selrow,B=n.selarrrow?a.makeArray(n.selarrrow):null,A=j.grid.bDiv.scrollLeft,J=n.gridComplete;n.gridComplete=function(){n.selrow=null;n.selarrrow=[];if(n.multiselect&&B&&B.length>0)for(var F=0;F<B.length;F++)B[F]!=r&&a(j).jqGrid("setSelection",B[F],false);r&&a(j).jqGrid("setSelection",r,false);j.grid.bDiv.scrollLeft=
A;n.gridComplete=J;n.gridComplete&&J()}}};if(this.tagName!="TABLE")alert("Element is not a table");else{a(this).empty();this.p=e;var h,i,b;if(this.p.colNames.length===0)for(h=0;h<this.p.colModel.length;h++)this.p.colNames[h]=this.p.colModel[h].label||this.p.colModel[h].name;if(this.p.colNames.length!==this.p.colModel.length)alert(a.jgrid.errors.model);else{var l=a("<div class='ui-jqgrid-view'></div>"),o,w=a.browser.msie?true:false,p=a.browser.safari?true:false;b=this;b.p.direction=a.trim(b.p.direction.toLowerCase());
if(a.inArray(b.p.direction,["ltr","rtl"])==-1)b.p.direction="ltr";i=b.p.direction;a(l).insertBefore(this);a(this).appendTo(l).removeClass("scroll");var u=a("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>");a(u).insertBefore(l).attr({id:"gbox_"+this.id,dir:i});a(l).appendTo(u).attr("id","gview_"+this.id);o=w&&a.browser.version<=6?'<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"></iframe>':"";a("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+
this.id+"'></div>").append(o).insertBefore(l);a("<div class='loading ui-state-default ui-state-active' id='load_"+this.id+"'>"+this.p.loadtext+"</div>").insertBefore(l);a(this).attr({cellspacing:"0",cellpadding:"0",border:"0",role:"grid","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var q=function(j,n){j=parseInt(j,10);return isNaN(j)?n?n:0:j},s=function(j,n,r){var B=b.p.colModel[j],A=B.align,J='style="',F=B.classes,P=B.name;if(A)J+="text-align:"+A+";";if(B.hidden===
true)J+="display:none;";if(n===0)J+="width: "+g.headers[j].width+"px;";J+='"'+(F!==undefined?' class="'+F+'"':"")+(B.title&&r?' title="'+a.jgrid.stripHtml(r)+'"':"");J+=' aria-describedby="'+b.p.id+"_"+P+'"';return J},k=function(j){return j===undefined||j===null||j===""?"&#160;":b.p.autoencode?a.jgrid.htmlEncode(j):j+""},m=function(j,n,r,B,A){r=b.p.colModel[r];if(typeof r.formatter!=="undefined"){j={rowId:j,colModel:r,gid:b.p.id};n=a.isFunction(r.formatter)?r.formatter.call(b,n,j,B,A):a.fmatter?a.fn.fmatter(r.formatter,
n,j,B,A):k(n)}else n=k(n);return n},v=function(j,n,r,B,A){j=m(j,n,r,A,"add");return'<td role="gridcell" '+s(r,B,j)+">"+j+"</td>"},y=function(j,n,r){j='<input role="checkbox" type="checkbox" id="jqg_'+b.p.id+"_"+j+'" class="cbox" name="jqg_'+b.p.id+"_"+j+'"/>';return'<td role="gridcell" '+s(n,r,"")+">"+j+"</td>"},x=function(j,n,r,B){r=(parseInt(r,10)-1)*parseInt(B,10)+1+n;return'<td role="gridcell" class="ui-state-default jqgrid-rownum" '+s(j,n,"")+">"+r+"</td>"},D=function(j){var n,r=[],B=0,A;for(A=
0;A<b.p.colModel.length;A++){n=b.p.colModel[A];if(n.name!=="cb"&&n.name!=="subgrid"&&n.name!=="rn"){r[B]=j=="local"?n.name:j=="xml"?n.xmlmap||n.name:n.jsonmap||n.name;B++}}return r},M=function(j){var n=b.p.remapColumns;if(!n||!n.length)n=a.map(b.p.colModel,function(r,B){return B});if(j)n=a.map(n,function(r){return r<j?null:r-j});return n},V=function(j,n){if(b.p.deepempty)a("#"+b.p.id+" tbody:first tr:gt(0)").remove();else{var r=a("#"+b.p.id+" tbody:first tr:first")[0];a("#"+b.p.id+" tbody:first").empty().append(r)}if(n&&
b.p.scroll){a(">div:first",j).css({height:"auto"}).children("div:first").css({height:0,display:"none"});j.scrollTop=0}},t=function(){var j=b.p.data.length,n,r,B;n=b.p.rownumbers===true?1:0;r=b.p.multiselect===true?1:0;B=b.p.subGrid===true?1:0;n=b.p.keyIndex===false||b.p.loadonce===true?b.p.localReader.id:b.p.colModel[b.p.keyIndex+r+B+n].name;for(r=0;r<j;r++){B=a.jgrid.getAccessor(b.p.data[r],n);b.p._index[B]=r}},O=function(j,n,r,B,A){var J=new Date,F=b.p.datatype!="local"&&b.p.loadonce||b.p.datatype==
"xmlstring",P,R=b.p.datatype=="local"?"local":"xml";if(F){b.p.data=[];b.p._index={};b.p.localReader.id=P="_id_"}b.p.reccount=0;if(a.isXMLDoc(j)){if(b.p.treeANode===-1&&!b.p.scroll){V(n,false);r=1}else r=r>1?r:1;var C,E=0,K,T,$=0,U=0,ca=0,N,na=[],qa,la={},ha,fa,ra=[],Fa=b.p.altRows===true?" "+b.p.altclass:"";b.p.xmlReader.repeatitems||(na=D(R));N=b.p.keyIndex===false?b.p.xmlReader.id:b.p.keyIndex;if(na.length>0&&!isNaN(N)){if(b.p.remapColumns&&b.p.remapColumns.length)N=a.inArray(N,b.p.remapColumns);
N=na[N]}R=(N+"").indexOf("[")===-1?na.length?function(xa,ta){return a(N,xa).text()||ta}:function(xa,ta){return a(b.p.xmlReader.cell,xa).eq(N).text()||ta}:function(xa,ta){return xa.getAttribute(N.replace(/[\[\]]/g,""))||ta};b.p.userData={};a(b.p.xmlReader.page,j).each(function(){b.p.page=this.textContent||this.text||0});a(b.p.xmlReader.total,j).each(function(){b.p.lastpage=this.textContent||this.text;if(b.p.lastpage===undefined)b.p.lastpage=1});a(b.p.xmlReader.records,j).each(function(){b.p.records=
this.textContent||this.text||0});a(b.p.xmlReader.userdata,j).each(function(){b.p.userData[this.getAttribute("name")]=this.textContent||this.text});(j=a(b.p.xmlReader.root+" "+b.p.xmlReader.row,j))||(j=[]);var za=j.length,ua=0;if(j&&za){var Ba=parseInt(b.p.rowNum,10),Ga=b.p.scroll?(parseInt(b.p.page,10)-1)*Ba+1:1;if(A)Ba*=A+1;A=a.isFunction(b.p.afterInsertRow);var Ca={},Ha="";if(b.p.grouping&&b.p.groupingView.groupCollapse===true)Ha=' style="display:none;"';for(;ua<za;){ha=j[ua];fa=R(ha,Ga+ua);C=r===
0?0:r+1;C=(C+ua)%2==1?Fa:"";ra.push("<tr"+Ha+' id="'+fa+'" role="row" class ="ui-widget-content jqgrow ui-row-'+b.p.direction+""+C+'">');if(b.p.rownumbers===true){ra.push(x(0,ua,b.p.page,b.p.rowNum));ca=1}if(b.p.multiselect===true){ra.push(y(fa,ca,ua));$=1}if(b.p.subGrid===true){ra.push(a(b).jqGrid("addSubGridCell",$+ca,ua+r));U=1}if(b.p.xmlReader.repeatitems){qa||(qa=M($+U+ca));var Ja=a(b.p.xmlReader.cell,ha);a.each(qa,function(xa){var ta=Ja[this];if(!ta)return false;K=ta.textContent||ta.text;la[b.p.colModel[xa+
$+U+ca].name]=K;ra.push(v(fa,K,xa+$+U+ca,ua+r,ha))})}else for(C=0;C<na.length;C++){K=a(na[C],ha).text();la[b.p.colModel[C+$+U+ca].name]=K;ra.push(v(fa,K,C+$+U+ca,ua+r,ha))}ra.push("</tr>");if(b.p.grouping){C=b.p.groupingView.groupField.length;T=[];for(var Ia=0;Ia<C;Ia++)T.push(la[b.p.groupingView.groupField[Ia]]);Ca=a(b).jqGrid("groupingPrepare",ra,T,Ca,la);ra=[]}if(F){la[P]=fa;b.p.data.push(la)}if(b.p.gridview===false){if(b.p.treeGrid===true){C=b.p.treeANode>-1?b.p.treeANode:0;T=a(ra.join(""))[0];
a(b.rows[ua+C]).after(T);try{a(b).jqGrid("setTreeNode",la,T)}catch(La){}}else a("tbody:first",n).append(ra.join(""));if(b.p.subGrid===true)try{a(b).jqGrid("addSubGrid",b.rows[b.rows.length-1],$+ca)}catch(Ma){}A&&b.p.afterInsertRow.call(b,fa,la,ha);ra=[]}la={};E++;ua++;if(E==Ba)break}}if(b.p.gridview===true)if(b.p.grouping){a(b).jqGrid("groupingRender",Ca,b.p.colModel.length);Ca=null}else a("tbody:first",n).append(ra.join(""));b.p.totaltime=new Date-J;if(E>0)if(b.p.records===0)b.p.records=za;ra=null;
if(!b.p.treeGrid&&!b.p.scroll)b.grid.bDiv.scrollTop=0;b.p.reccount=E;b.p.treeANode=-1;b.p.userDataOnFooter&&a(b).jqGrid("footerData","set",b.p.userData,true);if(F){b.p.records=za;b.p.lastpage=Math.ceil(za/Ba)}B||b.updatepager(false,true);if(F){for(;E<za;){ha=j[E];fa=R(ha,E);if(b.p.xmlReader.repeatitems){qa||(qa=M($+U+ca));var Ka=a(b.p.xmlReader.cell,ha);a.each(qa,function(xa){var ta=Ka[this];if(!ta)return false;K=ta.textContent||ta.text;la[b.p.colModel[xa+$+U+ca].name]=K})}else for(C=0;C<na.length;C++){K=
a(na[C],ha).text();la[b.p.colModel[C+$+U+ca].name]=K}la[P]=fa;b.p.data.push(la);la={};E++}t()}}},Y=function(j,n,r,B,A){var J=new Date;if(j){if(b.p.treeANode===-1&&!b.p.scroll){V(n,false);r=1}else r=r>1?r:1;var F,P,R=b.p.datatype!="local"&&b.p.loadonce||b.p.datatype=="jsonstring";if(R){b.p.data=[];b.p._index={};F=b.p.localReader.id="_id_"}b.p.reccount=0;if(b.p.datatype=="local"){n=b.p.localReader;P="local"}else{n=b.p.jsonReader;P="json"}var C=0,E,K,T,$=[],U,ca=0,N=0,na=0,qa,la,ha={},fa;T=[];var ra=
b.p.altRows===true?" "+b.p.altclass:"";b.p.page=a.jgrid.getAccessor(j,n.page)||0;qa=a.jgrid.getAccessor(j,n.total);b.p.lastpage=qa===undefined?1:qa;b.p.records=a.jgrid.getAccessor(j,n.records)||0;b.p.userData=a.jgrid.getAccessor(j,n.userdata)||{};n.repeatitems||(U=$=D(P));P=b.p.keyIndex===false?n.id:b.p.keyIndex;if($.length>0&&!isNaN(P)){if(b.p.remapColumns&&b.p.remapColumns.length)P=a.inArray(P,b.p.remapColumns);P=$[P]}(la=a.jgrid.getAccessor(j,n.root))||(la=[]);qa=la.length;j=0;var Fa=parseInt(b.p.rowNum,
10),za=b.p.scroll?(parseInt(b.p.page,10)-1)*Fa+1:1;if(A)Fa*=A+1;var ua=a.isFunction(b.p.afterInsertRow),Ba={},Ga="";if(b.p.grouping&&b.p.groupingView.groupCollapse===true)Ga=' style="display:none;"';for(;j<qa;){A=la[j];fa=a.jgrid.getAccessor(A,P);if(fa===undefined){fa=za+j;if($.length===0)if(n.cell)fa=A[n.cell][P]||fa}E=r===1?0:r;E=(E+j)%2==1?ra:"";T.push("<tr"+Ga+' id="'+fa+'" role="row" class= "ui-widget-content jqgrow ui-row-'+b.p.direction+""+E+'">');if(b.p.rownumbers===true){T.push(x(0,j,b.p.page,
b.p.rowNum));na=1}if(b.p.multiselect){T.push(y(fa,na,j));ca=1}if(b.p.subGrid){T.push(a(b).jqGrid("addSubGridCell",ca+na,j+r));N=1}if(n.repeatitems){if(n.cell)A=a.jgrid.getAccessor(A,n.cell);U||(U=M(ca+N+na))}for(K=0;K<U.length;K++){E=a.jgrid.getAccessor(A,U[K]);T.push(v(fa,E,K+ca+N+na,j+r,A));ha[b.p.colModel[K+ca+N+na].name]=E}T.push("</tr>");if(b.p.grouping){E=b.p.groupingView.groupField.length;K=[];for(var Ca=0;Ca<E;Ca++)K.push(ha[b.p.groupingView.groupField[Ca]]);Ba=a(b).jqGrid("groupingPrepare",
T,K,Ba,ha);T=[]}if(R){ha[F]=fa;b.p.data.push(ha)}if(b.p.gridview===false){if(b.p.treeGrid===true){E=b.p.treeANode>-1?b.p.treeANode:0;T=a(T.join(""))[0];a(b.rows[j+E]).after(T);try{a(b).jqGrid("setTreeNode",ha,T)}catch(Ha){}}else a("#"+b.p.id+" tbody:first").append(T.join(""));if(b.p.subGrid===true)try{a(b).jqGrid("addSubGrid",b.rows[b.rows.length-1],ca+na)}catch(Ja){}ua&&b.p.afterInsertRow.call(b,fa,ha,A);T=[]}ha={};C++;j++;if(C==Fa)break}if(b.p.gridview===true)b.p.grouping?a(b).jqGrid("groupingRender",
Ba,b.p.colModel.length):a("#"+b.p.id+" tbody:first").append(T.join(""));b.p.totaltime=new Date-J;if(C>0)if(b.p.records===0)b.p.records=qa;if(!b.p.treeGrid&&!b.p.scroll)b.grid.bDiv.scrollTop=0;b.p.reccount=C;b.p.treeANode=-1;b.p.userDataOnFooter&&a(b).jqGrid("footerData","set",b.p.userData,true);if(R){b.p.records=qa;b.p.lastpage=Math.ceil(qa/Fa)}B||b.updatepager(false,true);if(R){for(;C<qa;){A=la[C];fa=a.jgrid.getAccessor(A,P);if(fa===undefined){fa=za+C;if($.length===0)if(n.cell)fa=A[n.cell][P]||fa}if(A){if(n.repeatitems){if(n.cell)A=
a.jgrid.getAccessor(A,n.cell);U||(U=M(ca+N+na))}for(K=0;K<U.length;K++){E=a.jgrid.getAccessor(A,U[K]);ha[b.p.colModel[K+ca+N+na].name]=E}ha[F]=fa;b.p.data.push(ha);ha={}}C++}t()}}},W=function(){var j,n=false,r=[],B=[],A,J,F;if(a.isArray(b.p.data)){var P=b.p.grouping?b.p.groupingView:false;a.each(b.p.colModel,function(){J=this.sorttype||"text";if(J=="date"||J=="datetime"){if(this.formatter&&typeof this.formatter==="string"&&this.formatter=="date"){A=this.formatoptions&&this.formatoptions.srcformat?
this.formatoptions.srcformat:a.jgrid.formatter.date.srcformat;F=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:a.jgrid.formatter.date.newformat}else A=F=this.datefmt||"Y-m-d";r[this.name]={stype:J,srcfmt:A,newfmt:F}}else r[this.name]={stype:J,srcfmt:"",newfmt:""};if(b.p.grouping&&this.name==P.groupField[0])B[0]=r[this.name];if(!n&&(this.index==b.p.sortname||this.name==b.p.sortname)){j=this.name;n=true}});if(b.p.treeGrid)a(b).jqGrid("SortTree",j,b.p.sortorder,r[j].stype,
r[j].srcfmt);else{var R={eq:function(N){return N.equals},ne:function(N){return N.not().equals},lt:function(N){return N.less},le:function(N){return N.lessOrEquals},gt:function(N){return N.greater},ge:function(N){return N.greaterOrEquals},cn:function(N){return N.contains},nc:function(N){return N.not().contains},bw:function(N){return N.startsWith},bn:function(N){return N.not().startsWith},en:function(N){return N.not().endsWith},ew:function(N){return N.endsWith},ni:function(N){return N.not().equals},
"in":function(N){return N.equals}},C=a.jgrid.from(b.p.data);if(b.p.ignoreCase)C=C.ignoreCase();if(b.p.search===true){var E=b.p.postData.filters,K;if(E){if(typeof E=="string")E=a.jgrid.parse(E);for(var T=0,$=E.rules.length,U;T<$;T++){U=E.rules[T];K=E.groupOp;if(R[U.op]&&U.field&&U.data&&K)C=K.toUpperCase()=="OR"?R[U.op](C)(U.field,U.data,r[U.field]).or():R[U.op](C)(U.field,U.data,r[U.field])}}else try{C=R[b.p.postData.searchOper](C)(b.p.postData.searchField,b.p.postData.searchString,r[b.p.postData.searchField])}catch(ca){}}if(b.p.grouping){C.orderBy(P.groupField[0],
P.groupOrder[0],B[0].stype,B[0].srcfmt);P.groupDataSorted=true}if(j&&b.p.sortorder&&n)b.p.sortorder.toUpperCase()=="DESC"?C.orderBy(b.p.sortname,"d",r[j].stype,r[j].srcfmt):C.orderBy(b.p.sortname,"a",r[j].stype,r[j].srcfmt);R=C.select();C=parseInt(b.p.rowNum,10);E=R.length;K=parseInt(b.p.page,10);T=Math.ceil(E/C);$={};R=R.slice((K-1)*C,K*C);r=C=null;$[b.p.localReader.total]=T;$[b.p.localReader.page]=K;$[b.p.localReader.records]=E;$[b.p.localReader.root]=R;R=null;return $}}},X=function(){b.grid.hDiv.loading=
true;if(!b.p.hiddengrid)switch(b.p.loadui){case "disable":break;case "enable":a("#load_"+b.p.id).show();break;case "block":a("#lui_"+b.p.id).show();a("#load_"+b.p.id).show();break}},ia=function(){b.grid.hDiv.loading=false;switch(b.p.loadui){case "disable":break;case "enable":a("#load_"+b.p.id).hide();break;case "block":a("#lui_"+b.p.id).hide();a("#load_"+b.p.id).hide();break}},aa=function(j){if(!b.grid.hDiv.loading){var n=b.p.scroll&&j===false,r={},B,A=b.p.prmNames;if(b.p.page<=0)b.p.page=1;if(A.search!==
null)r[A.search]=b.p.search;if(A.nd!==null)r[A.nd]=(new Date).getTime();if(A.rows!==null)r[A.rows]=b.p.rowNum;if(A.page!==null)r[A.page]=b.p.page;if(A.sort!==null)r[A.sort]=b.p.sortname;if(A.order!==null)r[A.order]=b.p.sortorder;if(b.p.rowTotal!==null&&A.totalrows!==null)r[A.totalrows]=b.p.rowTotal;var J=b.p.loadComplete,F=a.isFunction(J);F||(J=null);var P=0;j=j||1;if(j>1)if(A.npage!==null){r[A.npage]=j;P=j-1;j=1}else J=function(C){b.p.page++;b.grid.hDiv.loading=false;F&&b.p.loadComplete.call(b,C);
aa(j-1)};else A.npage!==null&&delete b.p.postData[A.npage];if(b.p.grouping){a(b).jqGrid("groupingSetup");if(b.p.groupingView.groupDataSorted===true)r[A.sort]=b.p.groupingView.groupField[0]+" "+b.p.groupingView.groupOrder[0]+", "+r[A.sort]}a.extend(b.p.postData,r);var R=!b.p.scroll?1:b.rows.length-1;if(a.isFunction(b.p.datatype))b.p.datatype.call(b,b.p.postData,"load_"+b.p.id);else{a.isFunction(b.p.beforeRequest)&&b.p.beforeRequest.call(b);B=b.p.datatype.toLowerCase();switch(B){case "json":case "jsonp":case "xml":case "script":a.ajax(a.extend({url:b.p.url,
type:b.p.mtype,dataType:B,data:a.isFunction(b.p.serializeGridData)?b.p.serializeGridData.call(b,b.p.postData):b.p.postData,success:function(C){B==="xml"?O(C,b.grid.bDiv,R,j>1,P):Y(C,b.grid.bDiv,R,j>1,P);J&&J.call(b,C);n&&b.grid.populateVisible();if(b.p.loadonce||b.p.treeGrid)b.p.datatype="local";ia()},error:function(C,E,K){a.isFunction(b.p.loadError)&&b.p.loadError.call(b,C,E,K);ia()},beforeSend:function(C){X();a.isFunction(b.p.loadBeforeSend)&&b.p.loadBeforeSend.call(b,C)}},a.jgrid.ajaxOptions,b.p.ajaxGridOptions));
break;case "xmlstring":X();r=a.jgrid.stringToDoc(b.p.datastr);O(r,b.grid.bDiv);F&&b.p.loadComplete.call(b,r);b.p.datatype="local";b.p.datastr=null;ia();break;case "jsonstring":X();r=typeof b.p.datastr=="string"?a.jgrid.parse(b.p.datastr):b.p.datastr;Y(r,b.grid.bDiv);F&&b.p.loadComplete.call(b,r);b.p.datatype="local";b.p.datastr=null;ia();break;case "local":case "clientside":X();b.p.datatype="local";r=W();Y(r,b.grid.bDiv,R,j>1,P);J&&J.call(b,r);n&&b.grid.populateVisible();ia();break}}}};o=function(j,
n){var r="",B="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",A="",J,F,P,R,C=function(E){var K;if(a.isFunction(b.p.onPaging))K=b.p.onPaging.call(b,E);b.p.selrow=null;if(b.p.multiselect){b.p.selarrrow=[];a("#cb_"+a.jgrid.jqID(b.p.id),b.grid.hDiv).attr("checked",false)}b.p.savedRow=[];if(K=="stop")return false;return true};j=j.substr(1);J="pg_"+j;F=j+"_left";P=j+"_center";R=j+"_right";a("#"+j).append("<div id='"+J+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='"+
F+"' align='left'></td><td id='"+P+"' align='center' style='white-space:pre;'></td><td id='"+R+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr");if(b.p.rowList.length>0){A="<td dir='"+i+"'>";A+="<select class='ui-pg-selbox' role='listbox'>";for(F=0;F<b.p.rowList.length;F++)A+='<option role="option" value="'+b.p.rowList[F]+'"'+(b.p.rowNum==b.p.rowList[F]?' selected="selected"':"")+">"+b.p.rowList[F]+"</option>";A+="</select></td>"}if(i=="rtl")B+=A;if(b.p.pginput===true)r="<td dir='"+
i+"'>"+a.jgrid.format(b.p.pgtext||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1'></span>")+"</td>";if(b.p.pgbuttons===true){F=["first"+n,"prev"+n,"next"+n,"last"+n];i=="rtl"&&F.reverse();B+="<td id='"+F[0]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first'></span></td>";B+="<td id='"+F[1]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev'></span></td>";B+=r!==""?"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>"+
r+"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>":"";B+="<td id='"+F[2]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next'></span></td>";B+="<td id='"+F[3]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end'></span></td>"}else if(r!=="")B+=r;if(i=="ltr")B+=A;B+="</tr></tbody></table>";b.p.viewrecords===true&&a("td#"+j+"_"+b.p.recordpos,"#"+J).append("<div dir='"+i+"' style='text-align:"+b.p.recordpos+
"' class='ui-paging-info'></div>");a("td#"+j+"_"+b.p.pagerpos,"#"+J).append(B);A=a(".ui-jqgrid").css("font-size")||"11px";a(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+A+";visibility:hidden;' ></div>");B=a(B).clone().appendTo("#testpg").width();a("#testpg").remove();if(B>0){if(r!="")B+=50;a("td#"+j+"_"+b.p.pagerpos,"#"+J).width(B)}b.p._nvtd=[];b.p._nvtd[0]=B?Math.floor((b.p.width-B)/2):Math.floor(b.p.width/3);b.p._nvtd[1]=0;B=null;a(".ui-pg-selbox",
"#"+J).bind("change",function(){b.p.page=Math.round(b.p.rowNum*(b.p.page-1)/this.value-0.5)+1;b.p.rowNum=this.value;if(n)a(".ui-pg-selbox",b.p.pager).val(this.value);else b.p.toppager&&a(".ui-pg-selbox",b.p.toppager).val(this.value);if(!C("records"))return false;aa();return false});if(b.p.pgbuttons===true){a(".ui-pg-button","#"+J).hover(function(){if(a(this).hasClass("ui-state-disabled"))this.style.cursor="default";else{a(this).addClass("ui-state-hover");this.style.cursor="pointer"}},function(){if(!a(this).hasClass("ui-state-disabled")){a(this).removeClass("ui-state-hover");
this.style.cursor="default"}});a("#first"+n+", #prev"+n+", #next"+n+", #last"+n,"#"+j).click(function(){var E=q(b.p.page,1),K=q(b.p.lastpage,1),T=false,$=true,U=true,ca=true,N=true;if(K===0||K===1)N=ca=U=$=false;else if(K>1&&E>=1)if(E===1)U=$=false;else{if(!(E>1&&E<K))if(E===K)N=ca=false}else if(K>1&&E===0){N=ca=false;E=K-1}if(this.id==="first"+n&&$){b.p.page=1;T=true}if(this.id==="prev"+n&&U){b.p.page=E-1;T=true}if(this.id==="next"+n&&ca){b.p.page=E+1;T=true}if(this.id==="last"+n&&N){b.p.page=K;
T=true}if(T){if(!C(this.id))return false;aa()}return false})}b.p.pginput===true&&a("input.ui-pg-input","#"+J).keypress(function(E){if((E.charCode?E.charCode:E.keyCode?E.keyCode:0)==13){b.p.page=a(this).val()>0?a(this).val():b.p.page;if(!C("user"))return false;aa();return false}return this})};var Z=function(j,n,r,B){if(b.p.colModel[n].sortable)if(!(b.p.savedRow.length>0)){if(!r){if(b.p.lastsort==n)if(b.p.sortorder=="asc")b.p.sortorder="desc";else{if(b.p.sortorder=="desc")b.p.sortorder="asc"}else b.p.sortorder=
b.p.colModel[n].firstsortorder||"asc";b.p.page=1}if(B)if(b.p.lastsort==n&&b.p.sortorder==B&&!r)return;else b.p.sortorder=B;r=a("thead:first",b.grid.hDiv).get(0);a("tr th:eq("+b.p.lastsort+") span.ui-grid-ico-sort",r).addClass("ui-state-disabled");a("tr th:eq("+b.p.lastsort+")",r).attr("aria-selected","false");a("tr th:eq("+n+") span.ui-icon-"+b.p.sortorder,r).removeClass("ui-state-disabled");a("tr th:eq("+n+")",r).attr("aria-selected","true");if(!b.p.viewsortcols[0])if(b.p.lastsort!=n){a("tr th:eq("+
b.p.lastsort+") span.s-ico",r).hide();a("tr th:eq("+n+") span.s-ico",r).show()}j=j.substring(5);b.p.sortname=b.p.colModel[n].index||j;r=b.p.sortorder;if(a.isFunction(b.p.onSortCol))if(b.p.onSortCol.call(b,j,n,r)=="stop"){b.p.lastsort=n;return}if(b.p.datatype=="local")b.p.deselectAfterSort&&a(b).jqGrid("resetSelection");else{b.p.selrow=null;b.p.multiselect&&a("#cb_"+a.jgrid.jqID(b.p.id),b.grid.hDiv).attr("checked",false);b.p.selarrrow=[];b.p.savedRow=[]}if(b.p.scroll){r=b.grid.bDiv.scrollLeft;V(b.grid.bDiv,
true);b.grid.hDiv.scrollLeft=r}b.p.subGrid&&b.p.datatype=="local"&&a("td.sgexpanded","#"+b.p.id).each(function(){a(this).trigger("click")});aa();b.p.lastsort=n;if(b.p.sortname!=j&&n)b.p.lastsort=n}},wa=function(j){var n=j,r;for(r=j+1;r<b.p.colModel.length;r++)if(b.p.colModel[r].hidden!==true){n=r;break}return n-j},Da=function(j){var n,r={},B=p?0:b.p.cellLayout;for(n=r[0]=r[1]=r[2]=0;n<=j;n++)if(b.p.colModel[n].hidden===false)r[0]+=b.p.colModel[n].width+B;if(b.p.direction=="rtl")r[0]=b.p.width-r[0];
r[0]-=b.grid.bDiv.scrollLeft;if(a(b.grid.cDiv).is(":visible"))r[1]+=a(b.grid.cDiv).height()+parseInt(a(b.grid.cDiv).css("padding-top"),10)+parseInt(a(b.grid.cDiv).css("padding-bottom"),10);if(b.p.toolbar[0]===true&&(b.p.toolbar[1]=="top"||b.p.toolbar[1]=="both"))r[1]+=a(b.grid.uDiv).height()+parseInt(a(b.grid.uDiv).css("border-top-width"),10)+parseInt(a(b.grid.uDiv).css("border-bottom-width"),10);if(b.p.toppager)r[1]+=a(b.grid.topDiv).height()+parseInt(a(b.grid.topDiv).css("border-bottom-width"),
10);r[2]+=a(b.grid.bDiv).height()+a(b.grid.hDiv).height();return r};this.p.id=this.id;if(a.inArray(b.p.multikey,["shiftKey","altKey","ctrlKey"])==-1)b.p.multikey=false;b.p.keyIndex=false;for(h=0;h<b.p.colModel.length;h++)if(b.p.colModel[h].key===true){b.p.keyIndex=h;break}b.p.sortorder=b.p.sortorder.toLowerCase();if(b.p.grouping===true){b.p.scroll=false;b.p.rownumbers=false;b.p.subGrid=false;b.p.treeGrid=false;b.p.gridview=true}if(this.p.treeGrid===true){try{a(this).jqGrid("setTreeGrid")}catch(Ea){}if(b.p.datatype!=
"local")b.p.localReader={id:"_id_"}}if(this.p.subGrid)try{a(b).jqGrid("setSubGrid")}catch(Aa){}if(this.p.multiselect){this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>");this.p.colModel.unshift({name:"cb",width:p?b.p.multiselectWidth+b.p.cellLayout:b.p.multiselectWidth,sortable:false,resizable:false,hidedlg:true,search:false,align:"center",fixed:true})}if(this.p.rownumbers){this.p.colNames.unshift("");this.p.colModel.unshift({name:"rn",width:b.p.rownumWidth,
sortable:false,resizable:false,hidedlg:true,search:false,align:"center",fixed:true})}b.p.xmlReader=a.extend(true,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:true,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:true,cell:"cell"}},b.p.xmlReader);b.p.jsonReader=a.extend(true,{root:"rows",page:"page",total:"total",records:"records",repeatitems:true,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:true,
cell:"cell"}},b.p.jsonReader);b.p.localReader=a.extend(true,{root:"rows",page:"page",total:"total",records:"records",repeatitems:false,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:true,cell:"cell"}},b.p.localReader);if(b.p.scroll){b.p.pgbuttons=false;b.p.pginput=false;b.p.rowList=[]}b.p.data.length&&t();var oa="<thead><tr class='ui-jqgrid-labels' role='rowheader'>",z,I,Q,G,ba,H,L,S;I=S="";if(b.p.shrinkToFit===true&&b.p.forceFit===true)for(h=b.p.colModel.length-1;h>=0;h--)if(!b.p.colModel[h].hidden){b.p.colModel[h].resizable=
false;break}if(b.p.viewsortcols[1]=="horizontal"){S=" ui-i-asc";I=" ui-i-desc"}z=w?"class='ui-th-div-ie'":"";S="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+S+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+i+"'></span>";S+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+I+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+i+"'></span></span>";for(h=0;h<this.p.colNames.length;h++){I=b.p.headertitles?' title="'+a.jgrid.stripHtml(b.p.colNames[h])+
'"':"";oa+="<th id='"+b.p.id+"_"+b.p.colModel[h].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+i+"'"+I+">";I=b.p.colModel[h].index||b.p.colModel[h].name;oa+="<div id='jqgh_"+b.p.colModel[h].name+"' "+z+">"+b.p.colNames[h];b.p.colModel[h].width=b.p.colModel[h].width?parseInt(b.p.colModel[h].width,10):150;if(typeof b.p.colModel[h].title!=="boolean")b.p.colModel[h].title=true;if(I==b.p.sortname)b.p.lastsort=h;oa+=S+"</div></th>"}oa+="</tr></thead>";S=null;a(this).append(oa);
a("thead tr:first th",this).hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});if(this.p.multiselect){var ga=[],da;a("#cb_"+a.jgrid.jqID(b.p.id),this).bind("click",function(){if(this.checked){a("[id^=jqg_"+b.p.id+"_]").attr("checked","checked");a(b.rows).each(function(j){if(j>0)if(!a(this).hasClass("subgrid")&&!a(this).hasClass("jqgroup")){a(this).addClass("ui-state-active").attr("aria-selected","true");b.p.selarrrow[j]=b.p.selrow=this.id}});da=
true;ga=[]}else{a("[id^=jqg_"+b.p.id+"_]").removeAttr("checked");a(b.rows).each(function(j){if(!a(this).hasClass("subgrid")){a(this).removeClass("ui-state-active").attr("aria-selected","false");ga[j]=this.id}});b.p.selarrrow=[];b.p.selrow=null;da=false}if(a.isFunction(b.p.onSelectAll))b.p.onSelectAll.call(b,da?b.p.selarrrow:ga,da)})}if(b.p.autowidth===true){oa=a(u).innerWidth();b.p.width=oa>0?oa:"nw"}(function(){var j=0,n=b.p.cellLayout,r=0,B,A=b.p.scrollOffset,J,F=false,P,R=0,C=0,E=0,K;if(p)n=0;
a.each(b.p.colModel,function(){if(typeof this.hidden==="undefined")this.hidden=false;if(this.hidden===false){j+=q(this.width,0);if(this.fixed){R+=this.width;C+=this.width+n}else r++;E++}});if(isNaN(b.p.width))b.p.width=g.width=j;else g.width=b.p.width;b.p.tblwidth=j;if(b.p.shrinkToFit===false&&b.p.forceFit===true)b.p.forceFit=false;if(b.p.shrinkToFit===true&&r>0){P=g.width-n*r-C;if(!isNaN(b.p.height)){P-=A;F=true}j=0;a.each(b.p.colModel,function(T){if(this.hidden===false&&!this.fixed){this.width=
J=Math.round(P*this.width/(b.p.tblwidth-R));j+=J;B=T}});K=0;if(F){if(g.width-C-(j+n*r)!==A)K=g.width-C-(j+n*r)-A}else if(!F&&Math.abs(g.width-C-(j+n*r))!==1)K=g.width-C-(j+n*r);b.p.colModel[B].width+=K;b.p.tblwidth=j+K+R+E*n;if(b.p.tblwidth>b.p.width){b.p.colModel[B].width-=b.p.tblwidth-parseInt(b.p.width,10);b.p.tblwidth=b.p.width}}})();a(u).css("width",g.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+b.p.id+"'>&#160;</div>");a(l).css("width",g.width+"px");oa=a("thead:first",b).get(0);
var ea="";if(b.p.footerrow)ea+="<table role='grid' style='width:"+b.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+i+"'>";l=a("tr:first",oa);var ma="<tr class='jqgfirstrow' role='row' style='height:auto'>";b.p.disableClick=false;a("th",l).each(function(j){Q=b.p.colModel[j].width;if(typeof b.p.colModel[j].resizable==="undefined")b.p.colModel[j].resizable=true;if(b.p.colModel[j].resizable){G=document.createElement("span");
a(G).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+i);a.browser.opera||a(G).css("cursor","col-resize");a(this).addClass(b.p.resizeclass)}else G="";a(this).css("width",Q+"px").prepend(G);var n="";if(b.p.colModel[j].hidden){a(this).css("display","none");n="display:none;"}ma+="<td role='gridcell' style='height:0px;width:"+Q+"px;"+n+"'></td>";g.headers[j]={width:Q,el:this};ba=b.p.colModel[j].sortable;if(typeof ba!=="boolean")ba=b.p.colModel[j].sortable=true;n=b.p.colModel[j].name;n=="cb"||
n=="subgrid"||n=="rn"||b.p.viewsortcols[2]&&a("div",this).addClass("ui-jqgrid-sortable");if(ba)if(b.p.viewsortcols[0]){a("div span.s-ico",this).show();j==b.p.lastsort&&a("div span.ui-icon-"+b.p.sortorder,this).removeClass("ui-state-disabled")}else if(j==b.p.lastsort){a("div span.s-ico",this).show();a("div span.ui-icon-"+b.p.sortorder,this).removeClass("ui-state-disabled")}if(b.p.footerrow)ea+="<td role='gridcell' "+s(j,0,"")+">&#160;</td>"}).mousedown(function(j){if(a(j.target).closest("th>span.ui-jqgrid-resize").length==
1){var n=a.jgrid.getCellIndex(this);if(b.p.forceFit===true)b.p.nv=wa(n);g.dragStart(n,j,Da(n));return false}}).click(function(j){if(b.p.disableClick)return b.p.disableClick=false;var n="th>div.ui-jqgrid-sortable",r,B;b.p.viewsortcols[2]||(n="th>div>span>span.ui-grid-ico-sort");j=a(j.target).closest(n);if(j.length==1){n=a.jgrid.getCellIndex(this);if(!b.p.viewsortcols[2]){r=true;B=j.attr("sort")}Z(a("div",this)[0].id,n,r,B);return false}});if(b.p.sortable&&a.fn.sortable)try{a(b).jqGrid("sortableColumns",
l)}catch(ja){}if(b.p.footerrow)ea+="</tr></tbody></table>";ma+="</tr>";this.appendChild(document.createElement("tbody"));a(this).addClass("ui-jqgrid-btable").append(ma);ma=null;l=a("<table class='ui-jqgrid-htable' style='width:"+b.p.tblwidth+"px' role='grid' aria-labelledby='gbox_"+this.id+"' cellspacing='0' cellpadding='0' border='0'></table>").append(oa);var pa=b.p.caption&&b.p.hiddengrid===true?true:false;h=a("<div class='ui-jqgrid-hbox"+(i=="rtl"?"-rtl":"")+"'></div>");oa=null;g.hDiv=document.createElement("div");
a(g.hDiv).css({width:g.width+"px"}).addClass("ui-state-default ui-jqgrid-hdiv").append(h);a(h).append(l);l=null;pa&&a(g.hDiv).hide();if(b.p.pager){if(typeof b.p.pager=="string"){if(b.p.pager.substr(0,1)!="#")b.p.pager="#"+b.p.pager}else b.p.pager="#"+a(b.p.pager).attr("id");a(b.p.pager).css({width:g.width+"px"}).appendTo(u).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom");pa&&a(b.p.pager).hide();o(b.p.pager,"")}b.p.cellEdit===false&&b.p.hoverrows===true&&a(b).bind("mouseover",function(j){L=
a(j.target).closest("tr.jqgrow");a(L).attr("class")!=="subgrid"&&a(L).addClass("ui-state-hover");return false}).bind("mouseout",function(j){L=a(j.target).closest("tr.jqgrow");a(L).removeClass("ui-state-hover");return false});var ka,va;a(b).before(g.hDiv).click(function(j){H=j.target;var n=a(H).hasClass("cbox");L=a(H,b.rows).closest("tr.jqgrow");if(a(L).length===0)return this;var r=true;if(a.isFunction(b.p.beforeSelectRow))r=b.p.beforeSelectRow.call(b,L[0].id,j);if(H.tagName=="A"||(H.tagName=="INPUT"||
H.tagName=="TEXTAREA"||H.tagName=="OPTION"||H.tagName=="SELECT")&&!n)return this;if(r===true){if(b.p.cellEdit===true)if(b.p.multiselect&&n)a(b).jqGrid("setSelection",L[0].id,true);else{ka=L[0].rowIndex;va=a.jgrid.getCellIndex(H);try{a(b).jqGrid("editCell",ka,va,true)}catch(B){}}else if(b.p.multikey)if(j[b.p.multikey])a(b).jqGrid("setSelection",L[0].id,true);else{if(b.p.multiselect&&n){n=a("[id^=jqg_"+b.p.id+"_]").attr("checked");a("[id^=jqg_"+b.p.id+"_]").attr("checked",!n)}}else{if(b.p.multiselect&&
b.p.multiboxonly)if(!n){a(b.p.selarrrow).each(function(A,J){A=b.rows.namedItem(J);a(A).removeClass("ui-state-active");a("#jqg_"+b.p.id+"_"+a.jgrid.jqID(J)).attr("checked",false)});b.p.selarrrow=[];a("#cb_"+a.jgrid.jqID(b.p.id),b.grid.hDiv).attr("checked",false)}a(b).jqGrid("setSelection",L[0].id,true)}if(a.isFunction(b.p.onCellSelect)){ka=L[0].id;va=a.jgrid.getCellIndex(H);b.p.onCellSelect.call(b,ka,va,a(H).html(),j)}j.stopPropagation()}else return this}).bind("reloadGrid",function(j,n){if(b.p.treeGrid===
true)b.p.datatype=b.p.treedatatype;n&&n.current&&b.grid.selectionPreserver(b);if(b.p.datatype=="local"){a(b).jqGrid("resetSelection");b.p.data.length&&t()}else if(!b.p.treeGrid){b.p.selrow=null;if(b.p.multiselect){b.p.selarrrow=[];a("#cb_"+a.jgrid.jqID(b.p.id),b.grid.hDiv).attr("checked",false)}b.p.savedRow=[]}b.p.scroll&&V(b.grid.bDiv,true);if(n&&n.page){j=n.page;if(j>b.p.lastpage)j=b.p.lastpage;if(j<1)j=1;b.p.page=j;b.grid.bDiv.scrollTop=b.grid.prevRowHeight?(j-1)*b.grid.prevRowHeight*b.p.rowNum:
0}if(b.grid.prevRowHeight&&b.p.scroll){delete b.p.lastpage;b.grid.populateVisible()}else b.grid.populate();return false});a.isFunction(this.p.ondblClickRow)&&a(this).dblclick(function(j){H=j.target;L=a(H,b.rows).closest("tr.jqgrow");if(a(L).length===0)return false;ka=L[0].rowIndex;va=a.jgrid.getCellIndex(H);b.p.ondblClickRow.call(b,a(L).attr("id"),ka,va,j);return false});a.isFunction(this.p.onRightClickRow)&&a(this).bind("contextmenu",function(j){H=j.target;L=a(H,b.rows).closest("tr.jqgrow");if(a(L).length===
0)return false;b.p.multiselect||a(b).jqGrid("setSelection",L[0].id,true);ka=L[0].rowIndex;va=a.jgrid.getCellIndex(H);b.p.onRightClickRow.call(b,a(L).attr("id"),ka,va,j);return false});g.bDiv=document.createElement("div");a(g.bDiv).append(a('<div style="position:relative;'+(w&&a.browser.version<8?"height:0.01%;":"")+'"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:b.p.height+(isNaN(b.p.height)?"":"px"),width:g.width+"px"}).scroll(g.scrollGrid);a("table:first",
g.bDiv).css({width:b.p.tblwidth+"px"});if(w){a("tbody",this).size()==2&&a("tbody:gt(0)",this).remove();b.p.multikey&&a(g.bDiv).bind("selectstart",function(){return false})}else b.p.multikey&&a(g.bDiv).bind("mousedown",function(){return false});pa&&a(g.bDiv).hide();g.cDiv=document.createElement("div");var sa=b.p.hidegrid===true?a("<a role='link' href='javascript:void(0)'/>").addClass("ui-jqgrid-titlebar-close HeaderButton").hover(function(){sa.addClass("ui-state-hover")},function(){sa.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-circle-triangle-n'></span>").css(i==
"rtl"?"left":"right","0px"):"";a(g.cDiv).append(sa).append("<span class='ui-jqgrid-title"+(i=="rtl"?"-rtl":"")+"'>"+b.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix");a(g.cDiv).insertBefore(g.hDiv);if(b.p.toolbar[0]){g.uDiv=document.createElement("div");if(b.p.toolbar[1]=="top")a(g.uDiv).insertBefore(g.hDiv);else b.p.toolbar[1]=="bottom"&&a(g.uDiv).insertAfter(g.hDiv);if(b.p.toolbar[1]=="both"){g.ubDiv=document.createElement("div");a(g.uDiv).insertBefore(g.hDiv).addClass("ui-userdata ui-state-default").attr("id",
"t_"+this.id);a(g.ubDiv).insertAfter(g.hDiv).addClass("ui-userdata ui-state-default").attr("id","tb_"+this.id);pa&&a(g.ubDiv).hide()}else a(g.uDiv).width(g.width).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id);pa&&a(g.uDiv).hide()}if(b.p.toppager){b.p.toppager=b.p.id+"_toppager";g.topDiv=a("<div id='"+b.p.toppager+"'></div>")[0];b.p.toppager="#"+b.p.toppager;a(g.topDiv).insertBefore(g.hDiv).addClass("ui-state-default ui-jqgrid-toppager").width(g.width);o(b.p.toppager,"_t")}if(b.p.footerrow){g.sDiv=
a("<div class='ui-jqgrid-sdiv'></div>")[0];h=a("<div class='ui-jqgrid-hbox"+(i=="rtl"?"-rtl":"")+"'></div>");a(g.sDiv).append(h).insertAfter(g.hDiv).width(g.width);a(h).append(ea);g.footers=a(".ui-jqgrid-ftable",g.sDiv)[0].rows[0].cells;if(b.p.rownumbers)g.footers[0].className="ui-state-default jqgrid-rownum";pa&&a(g.sDiv).hide()}h=null;if(b.p.caption){var ya=b.p.datatype;if(b.p.hidegrid===true){a(".ui-jqgrid-titlebar-close",g.cDiv).click(function(j){var n=a.isFunction(b.p.onHeaderClick);if(b.p.gridstate==
"visible"){a(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+b.p.id).slideUp("fast");b.p.pager&&a(b.p.pager).slideUp("fast");b.p.toppager&&a(b.p.toppager).slideUp("fast");if(b.p.toolbar[0]===true){b.p.toolbar[1]=="both"&&a(g.ubDiv).slideUp("fast");a(g.uDiv).slideUp("fast")}b.p.footerrow&&a(".ui-jqgrid-sdiv","#gbox_"+b.p.id).slideUp("fast");a("span",this).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s");b.p.gridstate="hidden";a("#gbox_"+b.p.id).hasClass("ui-resizable")&&
a(".ui-resizable-handle","#gbox_"+b.p.id).hide();if(n)pa||b.p.onHeaderClick.call(b,b.p.gridstate,j)}else if(b.p.gridstate=="hidden"){a(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+b.p.id).slideDown("fast");b.p.pager&&a(b.p.pager).slideDown("fast");b.p.toppager&&a(b.p.toppager).slideDown("fast");if(b.p.toolbar[0]===true){b.p.toolbar[1]=="both"&&a(g.ubDiv).slideDown("fast");a(g.uDiv).slideDown("fast")}b.p.footerrow&&a(".ui-jqgrid-sdiv","#gbox_"+b.p.id).slideDown("fast");a("span",this).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n");
if(pa){b.p.datatype=ya;aa();pa=false}b.p.gridstate="visible";a("#gbox_"+b.p.id).hasClass("ui-resizable")&&a(".ui-resizable-handle","#gbox_"+b.p.id).show();n&&b.p.onHeaderClick.call(b,b.p.gridstate,j)}return false});if(pa){b.p.datatype="local";a(".ui-jqgrid-titlebar-close",g.cDiv).trigger("click")}}}else a(g.cDiv).hide();a(g.hDiv).after(g.bDiv).mousemove(function(j){if(g.resizing){g.dragMove(j);return false}});a(".ui-jqgrid-labels",g.hDiv).bind("selectstart",function(){return false});a(document).mouseup(function(){if(g.resizing){g.dragEnd();
return false}return true});b.formatCol=s;b.sortData=Z;b.updatepager=function(j,n){var r,B,A,J,F,P,R,C="";A=parseInt(b.p.page,10)-1;if(A<0)A=0;A*=parseInt(b.p.rowNum,10);F=A+b.p.reccount;if(b.p.scroll){r=a("tbody:first > tr:gt(0)",b.grid.bDiv);A=F-r.length;b.p.reccount=r.length;if(B=r.outerHeight()||b.grid.prevRowHeight){r=A*B;B=parseInt(b.p.records,10)*B;a(">div:first",b.grid.bDiv).css({height:B}).children("div:first").css({height:r,display:r?"":"none"})}b.grid.bDiv.scrollLeft=b.grid.hDiv.scrollLeft}C=
b.p.pager?b.p.pager:"";C+=b.p.toppager?C?","+b.p.toppager:b.p.toppager:"";if(C){R=a.jgrid.formatter.integer||{};r=q(b.p.page);B=q(b.p.lastpage);a(".selbox",C).attr("disabled",false);if(b.p.pginput===true){a(".ui-pg-input",C).val(b.p.page);a("#sp_1",C).html(a.fmatter?a.fmatter.util.NumberFormat(b.p.lastpage,R):b.p.lastpage)}if(b.p.viewrecords)if(b.p.reccount===0)a(".ui-paging-info",C).html(b.p.emptyrecords);else{J=A+1;P=b.p.records;if(a.fmatter){J=a.fmatter.util.NumberFormat(J,R);F=a.fmatter.util.NumberFormat(F,
R);P=a.fmatter.util.NumberFormat(P,R)}a(".ui-paging-info",C).html(a.jgrid.format(b.p.recordtext,J,F,P))}if(b.p.pgbuttons===true){if(r<=0)r=B=0;if(r==1||r===0){a("#first, #prev",b.p.pager).addClass("ui-state-disabled").removeClass("ui-state-hover");b.p.toppager&&a("#first_t, #prev_t",b.p.toppager).addClass("ui-state-disabled").removeClass("ui-state-hover")}else{a("#first, #prev",b.p.pager).removeClass("ui-state-disabled");b.p.toppager&&a("#first_t, #prev_t",b.p.toppager).removeClass("ui-state-disabled")}if(r==
B||r===0){a("#next, #last",b.p.pager).addClass("ui-state-disabled").removeClass("ui-state-hover");b.p.toppager&&a("#next_t, #last_t",b.p.toppager).addClass("ui-state-disabled").removeClass("ui-state-hover")}else{a("#next, #last",b.p.pager).removeClass("ui-state-disabled");b.p.toppager&&a("#next_t, #last_t",b.p.toppager).removeClass("ui-state-disabled")}}}j===true&&b.p.rownumbers===true&&a("td.jqgrid-rownum",b.rows).each(function(E){a(this).html(A+1+E)});n&&b.p.jqgdnd&&a(b).jqGrid("gridDnD","updateDnD");
a.isFunction(b.p.gridComplete)&&b.p.gridComplete.call(b)};b.refreshIndex=t;b.formatter=function(j,n,r,B,A){return m(j,n,r,B,A)};a.extend(g,{populate:aa,emptyRows:V});this.grid=g;b.addXmlData=function(j){O(j,b.grid.bDiv)};b.addJSONData=function(j){Y(j,b.grid.bDiv)};this.grid.cols=this.rows[0].cells;aa();b.p.hiddengrid=false;a(window).unload(function(){b=null})}}}})};a.jgrid.extend({getGridParam:function(d){var f=this[0];if(f&&f.grid)return d?typeof f.p[d]!="undefined"?f.p[d]:null:f.p},setGridParam:function(d){return this.each(function(){this.grid&&
typeof d==="object"&&a.extend(true,this.p,d)})},getDataIDs:function(){var d=[],f=0,c,e=0;this.each(function(){if((c=this.rows.length)&&c>0)for(;f<c;){if(a(this.rows[f]).hasClass("jqgrow")){d[e]=this.rows[f].id;e++}f++}});return d},setSelection:function(d,f){return this.each(function(){function c(i){var b=a(e.grid.bDiv)[0].clientHeight,l=a(e.grid.bDiv)[0].scrollTop,o=e.rows[i].offsetTop;i=e.rows[i].clientHeight;if(o+i>=b+l)a(e.grid.bDiv)[0].scrollTop=o-(b+l)+i+l;else if(o<b+l)if(o<l)a(e.grid.bDiv)[0].scrollTop=
o}var e=this,g,h;if(d!==undefined){f=f===false?false:true;if(g=e.rows.namedItem(d+"")){if(e.p.scrollrows===true){h=e.rows.namedItem(d).rowIndex;h>=0&&c(h)}if(e.p.multiselect){e.p.selrow=g.id;h=a.inArray(e.p.selrow,e.p.selarrrow);if(h===-1){g.className!=="ui-subgrid"&&a(g).addClass("ui-state-active").attr("aria-selected","true");g=true;a("#jqg_"+e.p.id+"_"+a.jgrid.jqID(e.p.selrow)).attr("checked",g);e.p.selarrrow.push(e.p.selrow);e.p.onSelectRow&&f&&e.p.onSelectRow.call(e,e.p.selrow,g)}else{g.className!==
"ui-subgrid"&&a(g).removeClass("ui-state-active").attr("aria-selected","false");g=false;a("#jqg_"+e.p.id+"_"+a.jgrid.jqID(e.p.selrow)).attr("checked",g);e.p.selarrrow.splice(h,1);e.p.onSelectRow&&f&&e.p.onSelectRow.call(e,e.p.selrow,g);g=e.p.selarrrow[0];e.p.selrow=g===undefined?null:g}}else if(g.className!=="ui-subgrid"){e.p.selrow&&a(e.rows.namedItem(e.p.selrow)).removeClass("ui-state-active").attr("aria-selected","false");e.p.selrow=g.id;a(g).addClass("ui-state-active").attr("aria-selected","true");
e.p.onSelectRow&&f&&e.p.onSelectRow.call(e,e.p.selrow,true)}}}})},resetSelection:function(){return this.each(function(){var d=this,f;if(d.p.multiselect){a(d.p.selarrrow).each(function(c,e){f=d.rows.namedItem(e);a(f).removeClass("ui-state-active").attr("aria-selected","false");a("#jqg_"+d.p.id+"_"+a.jgrid.jqID(e)).attr("checked",false)});a("#cb_"+a.jgrid.jqID(d.p.id)).attr("checked",false);d.p.selarrrow=[]}else if(d.p.selrow){a("#"+d.p.id+" tbody:first tr#"+a.jgrid.jqID(d.p.selrow)).removeClass("ui-state-active").attr("aria-selected",
"false");d.p.selrow=null}d.p.savedRow=[]})},getRowData:function(d){var f={},c,e=false,g,h=0;this.each(function(){var i=this,b,l;if(typeof d=="undefined"){e=true;c=[];g=i.rows.length}else{l=i.rows.namedItem(d);if(!l)return f;g=2}for(;h<g;){if(e)l=i.rows[h];if(a(l).hasClass("jqgrow")){a("td",l).each(function(o){b=i.p.colModel[o].name;if(b!=="cb"&&b!=="subgrid"&&b!=="rn")if(i.p.treeGrid===true&&b==i.p.ExpandColumn)f[b]=a.jgrid.htmlDecode(a("span:first",this).html());else try{f[b]=a.unformat(this,{rowId:l.id,
colModel:i.p.colModel[o]},o)}catch(w){f[b]=a.jgrid.htmlDecode(a(this).html())}});if(e){c.push(f);f={}}}h++}});return c?c:f},delRowData:function(d){var f=false,c,e;this.each(function(){var g=this;if(c=g.rows.namedItem(d)){a(c).remove();g.p.records--;g.p.reccount--;g.updatepager(true,false);f=true;if(g.p.multiselect){e=a.inArray(d,g.p.selarrrow);e!=-1&&g.p.selarrrow.splice(e,1)}if(d==g.p.selrow)g.p.selrow=null}else return false;if(g.p.datatype=="local"){var h=g.p._index[d];if(typeof h!="undefined"){g.p.data.splice(h,
1);g.refreshIndex()}}if(g.p.altRows===true&&f){var i=g.p.altclass;a(g.rows).each(function(b){b%2==1?a(this).addClass(i):a(this).removeClass(i)})}});return f},setRowData:function(d,f,c){var e,g=true,h;this.each(function(){if(!this.grid)return false;var i=this,b,l,o=typeof c,w={};l=i.rows.namedItem(d);if(!l)return false;if(f)try{a(this.p.colModel).each(function(q){e=this.name;if(f[e]!==undefined){w[e]=this.formatter&&typeof this.formatter==="string"&&this.formatter=="date"?a.unformat.date(f[e],this):
f[e];b=i.formatter(d,f[e],q,f,"edit");h=this.title?{title:a.jgrid.stripHtml(b)}:{};i.p.treeGrid===true&&e==i.p.ExpandColumn?a("td:eq("+q+") > span:first",l).html(b).attr(h):a("td:eq("+q+")",l).html(b).attr(h)}});if(i.p.datatype=="local"){var p=i.p._index[d];if(typeof p!="undefined")i.p.data[p]=a.extend(true,i.p.data[p],w);w=null}}catch(u){g=false}if(g)if(o==="string")a(l).addClass(c);else o==="object"&&a(l).css(c)});return g},addRowData:function(d,f,c,e){c||(c="last");var g=false,h,i,b,l,o,w,p,u,
q="",s,k,m,v,y;if(f){if(a.isArray(f)){s=true;c="last";k=d}else{f=[f];s=false}this.each(function(){var x=this,D=f.length;o=x.p.rownumbers===true?1:0;b=x.p.multiselect===true?1:0;l=x.p.subGrid===true?1:0;if(!s)if(typeof d!="undefined")d+="";else{d=x.p.records+1+"";if(x.p.keyIndex!==false){k=x.p.colModel[x.p.keyIndex+b+l+o].name;if(typeof f[0][k]!="undefined")d=f[0][k]}}m=x.p.altclass;for(var M=0,V="",t={},O=a.isFunction(x.p.afterInsertRow)?true:false;M<D;){v=f[M];i="";if(s){try{d=v[k]}catch(Y){d=x.p.records+
1+""}V=x.p.altRows===true?(x.rows.length-1)%2===0?m:"":""}if(o){q=x.formatCol(0,1,"");i+='<td role="gridcell" aria-describedby="'+x.p.id+'_rn" class="ui-state-default jqgrid-rownum" '+q+">0</td>"}if(b){u='<input role="checkbox" type="checkbox" id="jqg_'+x.p.id+"_"+d+'" class="cbox"/>';q=x.formatCol(o,1,"");i+='<td role="gridcell" aria-describedby="'+x.p.id+'_cb" '+q+">"+u+"</td>"}if(l)i+=a(x).jqGrid("addSubGridCell",b+o,1);for(p=b+l+o;p<x.p.colModel.length;p++){y=x.p.colModel[p];h=y.name;t[h]=y.formatter&&
typeof y.formatter==="string"&&y.formatter=="date"?a.unformat.date(v[h],y):v[h];u=x.formatter(d,a.jgrid.getAccessor(v,h),p,v,"edit");q=x.formatCol(p,1,u);i+='<td role="gridcell" aria-describedby="'+x.p.id+"_"+h+'" '+q+">"+u+"</td>"}i='<tr id="'+d+'" role="row" class="ui-widget-content jqgrow ui-row-'+x.p.direction+" "+V+'">'+i+"</tr>";if(x.p.subGrid===true){i=a(i)[0];a(x).jqGrid("addSubGrid",i,b+o)}if(x.rows.length===0)a("table:first",x.grid.bDiv).append(i);else switch(c){case "last":a(x.rows[x.rows.length-
1]).after(i);break;case "first":a(x.rows[0]).after(i);break;case "after":if(w=x.rows.namedItem(e))a(x.rows[w.rowIndex+1]).hasClass("ui-subgrid")?a(x.rows[w.rowIndex+1]).after(i):a(w).after(i);break;case "before":if(w=x.rows.namedItem(e)){a(w).before(i);w=w.rowIndex}break}x.p.records++;x.p.reccount++;O&&x.p.afterInsertRow.call(x,d,v,v);M++;if(x.p.datatype=="local"){x.p._index[d]=x.p.data.length;x.p.data.push(t);t={}}}if(x.p.altRows===true&&!s)if(c=="last")(x.rows.length-1)%2==1&&a(x.rows[x.rows.length-
1]).addClass(m);else a(x.rows).each(function(W){W%2==1?a(this).addClass(m):a(this).removeClass(m)});x.updatepager(true,true);g=true})}return g},footerData:function(d,f,c){function e(l){for(var o in l)if(l.hasOwnProperty(o))return false;return true}var g,h=false,i={},b;if(typeof d=="undefined")d="get";if(typeof c!="boolean")c=true;d=d.toLowerCase();this.each(function(){var l=this,o;if(!l.grid||!l.p.footerrow)return false;if(d=="set")if(e(f))return false;h=true;a(this.p.colModel).each(function(w){g=
this.name;if(d=="set"){if(f[g]!==undefined){o=c?l.formatter("",f[g],w,f,"edit"):f[g];b=this.title?{title:a.jgrid.stripHtml(o)}:{};a("tr.footrow td:eq("+w+")",l.grid.sDiv).html(o).attr(b);h=true}}else if(d=="get")i[g]=a("tr.footrow td:eq("+w+")",l.grid.sDiv).html()})});return d=="get"?i:h},ShowHideCol:function(d,f){return this.each(function(){var c=this,e=false;if(c.grid){if(typeof d==="string")d=[d];f=f!="none"?"":"none";var g=f===""?true:false;a(this.p.colModel).each(function(h){if(a.inArray(this.name,
d)!==-1&&this.hidden===g){a("tr",c.grid.hDiv).each(function(){a("th:eq("+h+")",this).css("display",f)});a(c.rows).each(function(i){a("td:eq("+h+")",c.rows[i]).css("display",f)});c.p.footerrow&&a("td:eq("+h+")",c.grid.sDiv).css("display",f);if(f=="none")c.p.tblwidth-=this.width+c.p.cellLayout;else c.p.tblwidth+=this.width;this.hidden=!g;e=true}});if(e===true){a("table:first",c.grid.hDiv).width(c.p.tblwidth);a("table:first",c.grid.bDiv).width(c.p.tblwidth);c.grid.hDiv.scrollLeft=c.grid.bDiv.scrollLeft;
if(c.p.footerrow){a("table:first",c.grid.sDiv).width(c.p.tblwidth);c.grid.sDiv.scrollLeft=c.grid.bDiv.scrollLeft}c.p.shrinkToFit===true&&a(c).jqGrid("setGridWidth",c.grid.width-0.001,true)}}})},hideCol:function(d){return this.each(function(){a(this).jqGrid("ShowHideCol",d,"none")})},showCol:function(d){return this.each(function(){a(this).jqGrid("ShowHideCol",d,"")})},remapColumns:function(d,f,c){function e(i){var b;b=i.length?a.makeArray(i):a.extend({},i);a.each(d,function(l){i[l]=b[this]})}function g(i,
b){a(">tr"+(b||""),i).each(function(){var l=this,o=a.makeArray(l.cells);a.each(d,function(){var w=o[this];w&&l.appendChild(w)})})}var h=this.get(0);e(h.p.colModel);e(h.p.colNames);e(h.grid.headers);g(a("thead:first",h.grid.hDiv),c&&":not(.ui-jqgrid-labels)");f&&g(a("#"+h.p.id+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot");h.p.footerrow&&g(a("tbody:first",h.grid.sDiv));if(h.p.remapColumns)if(h.p.remapColumns.length)e(h.p.remapColumns);else h.p.remapColumns=a.makeArray(d);h.p.lastsort=a.inArray(h.p.lastsort,
d);if(h.p.treeGrid)h.p.expColInd=a.inArray(h.p.expColInd,d)},setGridWidth:function(d,f){return this.each(function(){if(this.grid){var c=this,e,g=0,h=c.p.cellLayout,i,b=0,l=false,o=c.p.scrollOffset,w,p=0,u=0,q=0,s;if(typeof f!="boolean")f=c.p.shrinkToFit;if(!isNaN(d)){d=parseInt(d,10);c.grid.width=c.p.width=d;a("#gbox_"+c.p.id).css("width",d+"px");a("#gview_"+c.p.id).css("width",d+"px");a(c.grid.bDiv).css("width",d+"px");a(c.grid.hDiv).css("width",d+"px");c.p.pager&&a(c.p.pager).css("width",d+"px");
c.p.toppager&&a(c.p.toppager).css("width",d+"px");if(c.p.toolbar[0]===true){a(c.grid.uDiv).css("width",d+"px");c.p.toolbar[1]=="both"&&a(c.grid.ubDiv).css("width",d+"px")}c.p.footerrow&&a(c.grid.sDiv).css("width",d+"px");if(f===false&&c.p.forceFit===true)c.p.forceFit=false;if(f===true){if(a.browser.safari)h=0;a.each(c.p.colModel,function(){if(this.hidden===false){g+=parseInt(this.width,10);if(this.fixed){u+=this.width;p+=this.width+h}else b++;q++}});if(b!==0){c.p.tblwidth=g;w=d-h*b-p;if(!isNaN(c.p.height))if(a(c.grid.bDiv)[0].clientHeight<
a(c.grid.bDiv)[0].scrollHeight||c.rows.length===1){l=true;w-=o}g=0;var k=c.grid.cols.length>0;a.each(c.p.colModel,function(m){if(this.hidden===false&&!this.fixed){e=Math.round(w*this.width/(c.p.tblwidth-u));if(!(e<0)){this.width=e;g+=e;c.grid.headers[m].width=e;c.grid.headers[m].el.style.width=e+"px";if(c.p.footerrow)c.grid.footers[m].style.width=e+"px";if(k)c.grid.cols[m].style.width=e+"px";i=m}}});s=0;if(l){if(d-p-(g+h*b)!==o)s=d-p-(g+h*b)-o}else if(Math.abs(d-p-(g+h*b))!==1)s=d-p-(g+h*b);c.p.colModel[i].width+=
s;c.p.tblwidth=g+s+u+h*q;if(c.p.tblwidth>d){l=c.p.tblwidth-parseInt(d,10);c.p.tblwidth=d;e=c.p.colModel[i].width-=l}else e=c.p.colModel[i].width;c.grid.headers[i].width=e;c.grid.headers[i].el.style.width=e+"px";if(k)c.grid.cols[i].style.width=e+"px";a("table:first",c.grid.bDiv).css("width",c.p.tblwidth+"px");a("table:first",c.grid.hDiv).css("width",c.p.tblwidth+"px");c.grid.hDiv.scrollLeft=c.grid.bDiv.scrollLeft;if(c.p.footerrow){c.grid.footers[i].style.width=e+"px";a("table:first",c.grid.sDiv).css("width",
c.p.tblwidth+"px")}}}}}})},setGridHeight:function(d){return this.each(function(){var f=this;if(f.grid){a(f.grid.bDiv).css({height:d+(isNaN(d)?"":"px")});f.p.height=d;f.p.scroll&&f.grid.populateVisible()}})},setCaption:function(d){return this.each(function(){this.p.caption=d;a("span.ui-jqgrid-title",this.grid.cDiv).html(d);a(this.grid.cDiv).show()})},setLabel:function(d,f,c,e){return this.each(function(){var g=this,h=-1;if(g.grid){if(isNaN(d))a(g.p.colModel).each(function(l){if(this.name==d){h=l;return false}});
else h=parseInt(d,10);if(h>=0){var i=a("tr.ui-jqgrid-labels th:eq("+h+")",g.grid.hDiv);if(f){var b=a(".s-ico",i);a("[id^=jqgh_]",i).empty().html(f).append(b);g.p.colNames[h]=f}if(c)typeof c==="string"?a(i).addClass(c):a(i).css(c);typeof e==="object"&&a(i).attr(e)}}})},setCell:function(d,f,c,e,g,h){return this.each(function(){var i=this,b=-1,l,o;if(i.grid){if(isNaN(f))a(i.p.colModel).each(function(p){if(this.name==f){b=p;return false}});else b=parseInt(f,10);if(b>=0)if(l=i.rows.namedItem(d)){var w=
a("td:eq("+b+")",l);if(c!==""||h===true){l=i.formatter(d,c,b,l,"edit");o=i.p.colModel[b].title?{title:a.jgrid.stripHtml(l)}:{};i.p.treeGrid&&a(".tree-wrap",a(w)).length>0?a("span",a(w)).html(l).attr(o):a(w).html(l).attr(o);if(i.p.datatype=="local"){l=i.p.colModel[b];c=l.formatter&&typeof l.formatter==="string"&&l.formatter=="date"?a.unformat.date(c,l):c;o=i.p._index[d];if(typeof o!="undefined")i.p.data[o][l.name]=c}}if(typeof e==="string")a(w).addClass(e);else e&&a(w).css(e);typeof g==="object"&&
a(w).attr(g)}}})},getCell:function(d,f){var c=false;this.each(function(){var e=this,g=-1;if(e.grid){if(isNaN(f))a(e.p.colModel).each(function(b){if(this.name===f){g=b;return false}});else g=parseInt(f,10);if(g>=0){var h=e.rows.namedItem(d);if(h)try{c=a.unformat(a("td:eq("+g+")",h),{rowId:h.id,colModel:e.p.colModel[g]},g)}catch(i){c=a.jgrid.htmlDecode(a("td:eq("+g+")",h).html())}}}});return c},getCol:function(d,f,c){var e=[],g,h=0;f=typeof f!="boolean"?false:f;if(typeof c=="undefined")c=false;this.each(function(){var i=
this,b=-1;if(i.grid){if(isNaN(d))a(i.p.colModel).each(function(p){if(this.name===d){b=p;return false}});else b=parseInt(d,10);if(b>=0){var l=i.rows.length,o=0;if(l&&l>0){for(;o<l;){if(a(i.rows[o]).hasClass("jqgrow")){try{g=a.unformat(a(i.rows[o].cells[b]),{rowId:i.rows[o].id,colModel:i.p.colModel[b]},b)}catch(w){g=a.jgrid.htmlDecode(i.rows[o].cells[b].innerHTML)}if(c)h+=parseFloat(g);else if(f)e.push({id:i.rows[o].id,value:g});else e[o]=g}o++}if(c)switch(c.toLowerCase()){case "sum":e=h;break;case "avg":e=
h/l;break;case "count":e=l;break}}}}});return e},clearGridData:function(d){return this.each(function(){var f=this;if(f.grid){if(typeof d!="boolean")d=false;if(f.p.deepempty)a("#"+f.p.id+" tbody:first tr:gt(0)").remove();else{var c=a("#"+f.p.id+" tbody:first tr:first")[0];a("#"+f.p.id+" tbody:first").empty().append(c)}f.p.footerrow&&d&&a(".ui-jqgrid-ftable td",f.grid.sDiv).html("&#160;");f.p.selrow=null;f.p.selarrrow=[];f.p.savedRow=[];f.p.records=0;f.p.page=1;f.p.lastpage=0;f.p.reccount=0;f.p.data=
[];f.p_index={};f.updatepager(true,false)}})},getInd:function(d,f){var c=false,e;this.each(function(){if(e=this.rows.namedItem(d))c=f===true?e:e.rowIndex});return c}})})(jQuery);
(function(a){a.jgrid.extend({getColProp:function(d){var f={},c=this[0];if(c.grid){c=c.p.colModel;for(var e=0;e<c.length;e++)if(c[e].name==d){f=c[e];break}return f}},setColProp:function(d,f){return this.each(function(){if(this.grid)if(f)for(var c=this.p.colModel,e=0;e<c.length;e++)if(c[e].name==d){a.extend(this.p.colModel[e],f);break}})},sortGrid:function(d,f,c){return this.each(function(){var e=this,g=-1;if(e.grid){if(!d)d=e.p.sortname;for(var h=0;h<e.p.colModel.length;h++)if(e.p.colModel[h].index==
d||e.p.colModel[h].name==d){g=h;break}if(g!=-1){h=e.p.colModel[g].sortable;if(typeof h!=="boolean")h=true;if(typeof f!=="boolean")f=false;h&&e.sortData("jqgh_"+d,g,f,c)}}})},GridDestroy:function(){return this.each(function(){if(this.grid){this.p.pager&&a(this.p.pager).remove();var d=this.id;try{a("#gbox_"+d).remove()}catch(f){}}})},GridUnload:function(){return this.each(function(){if(this.grid){var d={id:a(this).attr("id"),cl:a(this).attr("class")};this.p.pager&&a(this.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager corner-bottom");
var f=document.createElement("table");a(f).attr({id:d.id});f.className=d.cl;d=this.id;a(f).removeClass("ui-jqgrid-btable");if(a(this.p.pager).parents("#gbox_"+d).length===1){a(f).insertBefore("#gbox_"+d).show();a(this.p.pager).insertBefore("#gbox_"+d)}else a(f).insertBefore("#gbox_"+d).show();a("#gbox_"+d).remove()}})},setGridState:function(d){return this.each(function(){if(this.grid){var f=this;if(d=="hidden"){a(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+f.p.id).slideUp("fast");f.p.pager&&a(f.p.pager).slideUp("fast");
f.p.toppager&&a(f.p.toppager).slideUp("fast");if(f.p.toolbar[0]===true){f.p.toolbar[1]=="both"&&a(f.grid.ubDiv).slideUp("fast");a(f.grid.uDiv).slideUp("fast")}f.p.footerrow&&a(".ui-jqgrid-sdiv","#gbox_"+f.p.id).slideUp("fast");a(".ui-jqgrid-titlebar-close span",f.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s");f.p.gridstate="hidden"}else if(d=="visible"){a(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+f.p.id).slideDown("fast");f.p.pager&&a(f.p.pager).slideDown("fast");
f.p.toppager&&a(f.p.toppager).slideDown("fast");if(f.p.toolbar[0]===true){f.p.toolbar[1]=="both"&&a(f.grid.ubDiv).slideDown("fast");a(f.grid.uDiv).slideDown("fast")}f.p.footerrow&&a(".ui-jqgrid-sdiv","#gbox_"+f.p.id).slideDown("fast");a(".ui-jqgrid-titlebar-close span",f.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n");f.p.gridstate="visible"}}})},updateGridRows:function(d,f,c){var e,g=false,h;this.each(function(){var i=this,b,l,o,w;if(!i.grid)return false;
f||(f="id");d&&d.length>0&&a(d).each(function(){o=this;if(l=i.rows.namedItem(o[f])){w=o[f];if(c===true)if(i.p.jsonReader.repeatitems===true){if(i.p.jsonReader.cell)o=o[i.p.jsonReader.cell];for(var p=0;p<o.length;p++){b=i.formatter(w,o[p],p,o,"edit");h=i.p.colModel[p].title?{title:a.jgrid.stripHtml(b)}:{};i.p.treeGrid===true&&e==i.p.ExpandColumn?a("td:eq("+p+") > span:first",l).html(b).attr(h):a("td:eq("+p+")",l).html(b).attr(h)}return g=true}a(i.p.colModel).each(function(u){e=c===true?this.jsonmap||
this.name:this.name;if(o[e]!==undefined){b=i.formatter(w,o[e],u,o,"edit");h=this.title?{title:a.jgrid.stripHtml(b)}:{};i.p.treeGrid===true&&e==i.p.ExpandColumn?a("td:eq("+u+") > span:first",l).html(b).attr(h):a("td:eq("+u+")",l).html(b).attr(h);g=true}})}})});return g},filterGrid:function(d,f){f=a.extend({gridModel:false,gridNames:false,gridToolbar:false,filterModel:[],formtype:"horizontal",autosearch:true,formclass:"filterform",tableclass:"filtertable",buttonclass:"filterbutton",searchButton:"Search",
clearButton:"Clear",enableSearch:false,enableClear:false,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,url:"",marksearched:true},f||{});return this.each(function(){var c=this;this.p=f;if(this.p.filterModel.length===0&&this.p.gridModel===false)alert("No filter is set");else if(d){this.p.gridid=d.indexOf("#")!=-1?d:"#"+d;var e=a(this.p.gridid).jqGrid("getGridParam","colModel");if(e){if(this.p.gridModel===true){var g=a(this.p.gridid)[0],h;a.each(e,function(w){var p=[];this.search=
this.search===false?false:true;h=this.editrules&&this.editrules.searchhidden===true?true:this.hidden===true?false:true;if(this.search===true&&h===true){p.label=c.p.gridNames===true?g.p.colNames[w]:"";p.name=this.name;p.index=this.index||this.name;p.stype=this.edittype||"text";if(p.stype!="select")p.stype="text";p.defval=this.defval||"";p.surl=this.surl||"";p.sopt=this.editoptions||{};p.width=this.width;c.p.filterModel.push(p)}})}else a.each(c.p.filterModel,function(){for(var w=0;w<e.length;w++)if(this.name==
e[w].name){this.index=e[w].index||this.name;break}if(!this.index)this.index=this.name});var i=function(){var w={},p=0,u,q=a(c.p.gridid)[0],s;q.p.searchdata={};a.isFunction(c.p.beforeSearch)&&c.p.beforeSearch();a.each(c.p.filterModel,function(){s=this.index;switch(this.stype){case "select":if(u=a("select[name="+s+"]",c).val()){w[s]=u;c.p.marksearched&&a("#jqgh_"+this.name,q.grid.hDiv).addClass("dirty-cell");p++}else{c.p.marksearched&&a("#jqgh_"+this.name,q.grid.hDiv).removeClass("dirty-cell");try{delete q.p.postData[this.index]}catch(v){}}break;
default:if(u=a("input[name="+s+"]",c).val()){w[s]=u;c.p.marksearched&&a("#jqgh_"+this.name,q.grid.hDiv).addClass("dirty-cell");p++}else{c.p.marksearched&&a("#jqgh_"+this.name,q.grid.hDiv).removeClass("dirty-cell");try{delete q.p.postData[this.index]}catch(y){}}}});var k=p>0?true:false;a.extend(q.p.postData,w);var m;if(c.p.url){m=a(q).jqGrid("getGridParam","url");a(q).jqGrid("setGridParam",{url:c.p.url})}a(q).jqGrid("setGridParam",{search:k}).trigger("reloadGrid",[{page:1}]);m&&a(q).jqGrid("setGridParam",
{url:m});a.isFunction(c.p.afterSearch)&&c.p.afterSearch()},b=function(){var w={},p,u=0,q=a(c.p.gridid)[0],s;a.isFunction(c.p.beforeClear)&&c.p.beforeClear();a.each(c.p.filterModel,function(){s=this.index;p=this.defval?this.defval:"";if(!this.stype)this.stype="text";switch(this.stype){case "select":var v;a("select[name="+s+"] option",c).each(function(D){if(D===0)this.selected=true;if(a(this).text()==p){this.selected=true;v=a(this).val();return false}});if(v){w[s]=v;c.p.marksearched&&a("#jqgh_"+this.name,
q.grid.hDiv).addClass("dirty-cell");u++}else{c.p.marksearched&&a("#jqgh_"+this.name,q.grid.hDiv).removeClass("dirty-cell");try{delete q.p.postData[this.index]}catch(y){}}break;case "text":a("input[name="+s+"]",c).val(p);if(p){w[s]=p;c.p.marksearched&&a("#jqgh_"+this.name,q.grid.hDiv).addClass("dirty-cell");u++}else{c.p.marksearched&&a("#jqgh_"+this.name,q.grid.hDiv).removeClass("dirty-cell");try{delete q.p.postData[this.index]}catch(x){}}break}});var k=u>0?true:false;a.extend(q.p.postData,w);var m;
if(c.p.url){m=a(q).jqGrid("getGridParam","url");a(q).jqGrid("setGridParam",{url:c.p.url})}a(q).jqGrid("setGridParam",{search:k}).trigger("reloadGrid",[{page:1}]);m&&a(q).jqGrid("setGridParam",{url:m});a.isFunction(c.p.afterClear)&&c.p.afterClear()},l,o=a("<form name='SearchForm' style=display:inline;' class='"+this.p.formclass+"'></form>");l=a("<table class='"+this.p.tableclass+"' cellspacing='0' cellpading='0' border='0'><tbody></tbody></table>");a(o).append(l);(function(){var w=document.createElement("tr"),
p,u,q,s;c.p.formtype=="horizontal"&&a(l).append(w);a.each(c.p.filterModel,function(k){q=document.createElement("td");a(q).append("<label for='"+this.name+"'>"+this.label+"</label>");s=document.createElement("td");var m=this;if(!this.stype)this.stype="text";switch(this.stype){case "select":if(this.surl)a(s).load(this.surl,function(){m.defval&&a("select",this).val(m.defval);a("select",this).attr({name:m.index||m.name,id:"sg_"+m.name});m.sopt&&a("select",this).attr(m.sopt);c.p.gridToolbar===true&&m.width&&
a("select",this).width(m.width);c.p.autosearch===true&&a("select",this).change(function(){i();return false})});else if(m.sopt.value){var v=m.sopt.value,y=document.createElement("select");a(y).attr({name:m.index||m.name,id:"sg_"+m.name}).attr(m.sopt);var x;if(typeof v==="string"){k=v.split(";");for(var D=0;D<k.length;D++){v=k[D].split(":");x=document.createElement("option");x.value=v[0];x.innerHTML=v[1];if(v[1]==m.defval)x.selected="selected";y.appendChild(x)}}else if(typeof v==="object")for(D in v)if(v.hasOwnProperty(D)){k++;
x=document.createElement("option");x.value=D;x.innerHTML=v[D];if(v[D]==m.defval)x.selected="selected";y.appendChild(x)}c.p.gridToolbar===true&&m.width&&a(y).width(m.width);a(s).append(y);c.p.autosearch===true&&a(y).change(function(){i();return false})}break;case "text":y=this.defval?this.defval:"";a(s).append("<input type='text' name='"+(this.index||this.name)+"' id='sg_"+this.name+"' value='"+y+"'/>");m.sopt&&a("input",s).attr(m.sopt);if(c.p.gridToolbar===true&&m.width)a.browser.msie?a("input",s).width(m.width-
4):a("input",s).width(m.width-2);c.p.autosearch===true&&a("input",s).keypress(function(M){if((M.charCode?M.charCode:M.keyCode?M.keyCode:0)==13){i();return false}return this});break}if(c.p.formtype=="horizontal"){c.p.gridToolbar===true&&c.p.gridNames===false?a(w).append(s):a(w).append(q).append(s);a(w).append(s)}else{p=document.createElement("tr");a(p).append(q).append(s);a(l).append(p)}});s=document.createElement("td");if(c.p.enableSearch===true){u="<input type='button' id='sButton' class='"+c.p.buttonclass+
"' value='"+c.p.searchButton+"'/>";a(s).append(u);a("input#sButton",s).click(function(){i();return false})}if(c.p.enableClear===true){u="<input type='button' id='cButton' class='"+c.p.buttonclass+"' value='"+c.p.clearButton+"'/>";a(s).append(u);a("input#cButton",s).click(function(){b();return false})}if(c.p.enableClear===true||c.p.enableSearch===true)if(c.p.formtype=="horizontal")a(w).append(s);else{p=document.createElement("tr");a(p).append("<td>&#160;</td>").append(s);a(l).append(p)}})();a(this).append(o);
this.triggerSearch=i;this.clearSearch=b}else alert("Could not get grid colModel")}else alert("No target grid is set!")})},filterToolbar:function(d){d=a.extend({autosearch:true,searchOnEnter:true,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:false,groupOp:"AND",defaultSearch:"bw"},d||{});return this.each(function(){function f(i,b){var l=a(i);l[0]&&jQuery.each(b,function(){this.data!==undefined?l.bind(this.type,this.data,this.fn):l.bind(this.type,this.fn)})}
var c=this,e=function(){var i={},b=0,l,o,w={},p;a.each(c.p.colModel,function(){o=this.index||this.name;switch(this.stype){case "select":p=this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"eq";if(l=a("select[name="+o+"]",c.grid.hDiv).val()){i[o]=l;w[o]=p;b++}else try{delete c.p.postData[o]}catch(v){}break;case "text":p=this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:d.defaultSearch;if(l=a("input[name="+o+"]",c.grid.hDiv).val()){i[o]=l;w[o]=p;b++}else try{delete c.p.postData[o]}catch(y){}break}});
var u=b>0?true:false;if(d.stringResult===true||c.p.datatype=="local"){var q='{"groupOp":"'+d.groupOp+'","rules":[',s=0;a.each(i,function(v,y){if(s>0)q+=",";q+='{"field":"'+v+'",';q+='"op":"'+w[v]+'",';q+='"data":"'+y+'"}';s++});q+="]}";a.extend(c.p.postData,{filters:q})}else a.extend(c.p.postData,i);var k;if(c.p.searchurl){k=c.p.url;a(c).jqGrid("setGridParam",{url:c.p.searchurl})}var m=false;if(a.isFunction(d.beforeSearch))m=d.beforeSearch.call(c);m||a(c).jqGrid("setGridParam",{search:u}).trigger("reloadGrid",
[{page:1}]);k&&a(c).jqGrid("setGridParam",{url:k});a.isFunction(d.afterSearch)&&d.afterSearch()},g=a("<tr class='ui-search-toolbar' role='rowheader'></tr>"),h;a.each(c.p.colModel,function(){var i=this,b,l,o,w;l=a("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+c.p.direction+"'></th>");b=a("<div style='width:100%;position:relative;height:100%;padding-right:0.3em;'></div>");this.hidden===true&&a(l).css("display","none");this.search=this.search===false?false:true;if(typeof this.stype==
"undefined")this.stype="text";o=a.extend({},this.searchoptions||{});if(this.search)switch(this.stype){case "select":if(w=this.surl||o.dataUrl)a.ajax(a.extend({url:w,dataType:"html",complete:function(k){if(o.buildSelect!==undefined)(k=o.buildSelect(k))&&a(b).append(k);else a(b).append(k.responseText);o.defaultValue&&a("select",b).val(o.defaultValue);a("select",b).attr({name:i.index||i.name,id:"gs_"+i.name});o.attr&&a("select",b).attr(o.attr);a("select",b).css({width:"100%"});o.dataInit!==undefined&&
o.dataInit(a("select",b)[0]);o.dataEvents!==undefined&&f(a("select",b)[0],o.dataEvents);d.autosearch===true&&a("select",b).change(function(){e();return false});k=null}},a.jgrid.ajaxOptions,c.p.ajaxSelectOptions||{}));else{var p;if(i.searchoptions&&i.searchoptions.value)p=i.searchoptions.value;else if(i.editoptions&&i.editoptions.value)p=i.editoptions.value;if(p){w=document.createElement("select");w.style.width="100%";a(w).attr({name:i.index||i.name,id:"gs_"+i.name});var u,q;if(typeof p==="string"){p=
p.split(";");for(var s=0;s<p.length;s++){u=p[s].split(":");q=document.createElement("option");q.value=u[0];q.innerHTML=u[1];w.appendChild(q)}}else if(typeof p==="object")for(u in p)if(p.hasOwnProperty(u)){q=document.createElement("option");q.value=u;q.innerHTML=p[u];w.appendChild(q)}o.defaultValue&&a(w).val(o.defaultValue);o.attr&&a(w).attr(o.attr);o.dataInit!==undefined&&o.dataInit(w);o.dataEvents!==undefined&&f(w,o.dataEvents);a(b).append(w);d.autosearch===true&&a(w).change(function(){e();return false})}}break;
case "text":w=o.defaultValue?o.defaultValue:"";a(b).append("<input type='text' style='width:95%;padding:0px;' name='"+(i.index||i.name)+"' id='gs_"+i.name+"' value='"+w+"'/>");o.attr&&a("input",b).attr(o.attr);o.dataInit!==undefined&&o.dataInit(a("input",b)[0]);o.dataEvents!==undefined&&f(a("input",b)[0],o.dataEvents);if(d.autosearch===true)d.searchOnEnter?a("input",b).keypress(function(k){if((k.charCode?k.charCode:k.keyCode?k.keyCode:0)==13){e();return false}return this}):a("input",b).keydown(function(k){switch(k.which){case 13:return false;
case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:h&&clearTimeout(h);h=setTimeout(function(){e()},500)}});break}a(l).append(b);a(g).append(l)});a("table thead",c.grid.hDiv).append(g);this.triggerToolbar=e;this.clearToolbar=function(i){var b={},l,o=0,w;i=typeof i!="boolean"?true:i;a.each(c.p.colModel,function(){l=this.searchoptions&&this.searchoptions.defaultValue?this.searchoptions.defaultValue:"";w=this.index||this.name;switch(this.stype){case "select":var m;a("select[name="+w+
"] option",c.grid.hDiv).each(function(x){if(x===0)this.selected=true;if(a(this).text()==l){this.selected=true;m=a(this).val();return false}});if(m){b[w]=m;o++}else try{delete c.p.postData[w]}catch(v){}break;case "text":a("input[name="+w+"]",c.grid.hDiv).val(l);if(l){b[w]=l;o++}else try{delete c.p.postData[w]}catch(y){}break}});var p=o>0?true:false;if(d.stringResult===true||c.p.datatype=="local"){var u='{"groupOp":"'+d.groupOp+'","rules":[',q=0;a.each(b,function(m,v){if(q>0)u+=",";u+='{"field":"'+
m+'",';u+='"op":"eq",';u+='"data":"'+v+'"}';q++});u+="]}";a.extend(c.p.postData,{filters:u})}else a.extend(c.p.postData,b);var s;if(c.p.searchurl){s=c.p.url;a(c).jqGrid("setGridParam",{url:c.p.searchurl})}var k=false;if(a.isFunction(d.beforeClear))k=d.beforeClear.call(c);k||i&&a(c).jqGrid("setGridParam",{search:p}).trigger("reloadGrid",[{page:1}]);s&&a(c).jqGrid("setGridParam",{url:s});a.isFunction(d.afterClear)&&d.afterClear()};this.toggleToolbar=function(){var i=a("tr.ui-search-toolbar",c.grid.hDiv);
i.css("display")=="none"?i.show():i.hide()}})}})})(jQuery);var showModal=function(a){a.w.show()},closeModal=function(a){a.w.hide().attr("aria-hidden","true");a.o&&a.o.remove()},hideModal=function(a,d){d=jQuery.extend({jqm:true,gb:""},d||{});if(d.onClose){var f=d.onClose(a);if(typeof f=="boolean"&&!f)return}if(jQuery.fn.jqm&&d.jqm===true)jQuery(a).attr("aria-hidden","true").jqmHide();else{if(d.gb!=="")try{jQuery(".jqgrid-overlay:first",d.gb).hide()}catch(c){}jQuery(a).hide().attr("aria-hidden","true")}};
function findPos(a){var d=0,f=0;if(a.offsetParent){do{d+=a.offsetLeft;f+=a.offsetTop}while(a=a.offsetParent)}return[d,f]}
var createModal=function(a,d,f,c,e,g){var h=document.createElement("div"),i;i=jQuery(f.gbox).attr("dir")=="rtl"?true:false;h.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog";h.id=a.themodal;var b=document.createElement("div");b.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix";b.id=a.modalhead;jQuery(b).append("<span class='ui-jqdialog-title'>"+f.caption+"</span>");var l=jQuery("<a href='javascript:void(0)' class='ui-jqdialog-titlebar-close ui-corner-all'></a>").hover(function(){l.addClass("ui-state-hover")},
function(){l.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-closethick'></span>");jQuery(b).append(l);if(i){h.dir="rtl";jQuery(".ui-jqdialog-title",b).css("float","right");jQuery(".ui-jqdialog-titlebar-close",b).css("left","0.3em")}else{h.dir="ltr";jQuery(".ui-jqdialog-title",b).css("float","left");jQuery(".ui-jqdialog-titlebar-close",b).css("right","0.3em")}var o=document.createElement("div");jQuery(o).addClass("ui-jqdialog-content ui-widget-content").attr("id",a.modalcontent);
jQuery(o).append(d);h.appendChild(o);jQuery(h).prepend(b);g===true?jQuery("body").append(h):jQuery(h).insertBefore(c);if(typeof f.jqModal==="undefined")f.jqModal=true;d={};if(jQuery.fn.jqm&&f.jqModal===true){if(f.left===0&&f.top===0){c=[];c=findPos(e);f.left=c[0]+4;f.top=c[1]+4}d.top=f.top+"px";d.left=f.left}else if(f.left!==0||f.top!==0){d.left=f.left;d.top=f.top+"px"}jQuery("a.ui-jqdialog-titlebar-close",b).click(function(){var u=jQuery("#"+a.themodal).data("onClose")||f.onClose,q=jQuery("#"+a.themodal).data("gbox")||
f.gbox;hideModal("#"+a.themodal,{gb:q,jqm:f.jqModal,onClose:u});return false});if(f.width===0||!f.width)f.width=300;if(f.height===0||!f.height)f.height=200;if(!f.zIndex)f.zIndex=950;e=0;if(i&&d.left&&!g){e=jQuery(f.gbox).width()-(!isNaN(f.width)?parseInt(f.width,10):0)-8;d.left=parseInt(d.left,10)+parseInt(e,10)}if(d.left)d.left+="px";jQuery(h).css(jQuery.extend({width:isNaN(f.width)?"auto":f.width+"px",height:isNaN(f.height)?"auto":f.height+"px",zIndex:f.zIndex,overflow:"hidden"},d)).attr({tabIndex:"-1",
role:"dialog","aria-labelledby":a.modalhead,"aria-hidden":"true"});if(typeof f.drag=="undefined")f.drag=true;if(typeof f.resize=="undefined")f.resize=true;if(f.drag){jQuery(b).css("cursor","move");if(jQuery.fn.jqDrag)jQuery(h).jqDrag(b);else try{jQuery(h).draggable({handle:jQuery("#"+b.id)})}catch(w){}}if(f.resize)if(jQuery.fn.jqResize){jQuery(h).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se ui-icon-grip-diagonal-se'></div>");jQuery("#"+a.themodal).jqResize(".jqResize",
a.scrollelm?"#"+a.scrollelm:false)}else try{jQuery(h).resizable({handles:"se, sw",alsoResize:a.scrollelm?"#"+a.scrollelm:false})}catch(p){}f.closeOnEscape===true&&jQuery(h).keydown(function(u){if(u.which==27){u=jQuery("#"+a.themodal).data("onClose")||f.onClose;hideModal(this,{gb:f.gbox,jqm:f.jqModal,onClose:u})}})},viewModal=function(a,d){d=jQuery.extend({toTop:true,overlay:10,modal:false,onShow:showModal,onHide:closeModal,gbox:"",jqm:true,jqM:true},d||{});if(jQuery.fn.jqm&&d.jqm===true)d.jqM?jQuery(a).attr("aria-hidden",
"false").jqm(d).jqmShow():jQuery(a).attr("aria-hidden","false").jqmShow();else{if(d.gbox!==""){jQuery(".jqgrid-overlay:first",d.gbox).show();jQuery(a).data("gbox",d.gbox)}jQuery(a).show().attr("aria-hidden","false");try{jQuery(":input:visible",a)[0].focus()}catch(f){}}};
function info_dialog(a,d,f,c){var e={width:290,height:"auto",dataheight:"auto",drag:true,resize:false,caption:"<b>"+a+"</b>",left:250,top:170,zIndex:1E3,jqModal:true,modal:false,closeOnEscape:true,align:"center",buttonalign:"center",buttons:[]};jQuery.extend(e,c||{});var g=e.jqModal;if(jQuery.fn.jqm&&!g)g=false;a="";if(e.buttons.length>0)for(c=0;c<e.buttons.length;c++){if(typeof e.buttons[c].id=="undefined")e.buttons[c].id="info_button_"+c;a+="<a href='javascript:void(0)' id='"+e.buttons[c].id+"' class='fm-button ui-state-default ui-corner-all'>"+
e.buttons[c].text+"</a>"}c=isNaN(e.dataheight)?e.dataheight:e.dataheight+"px";var h="<div id='info_id'>";h+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+c+";"+("text-align:"+e.align+";")+"'>"+d+"</div>";h+=f?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+e.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a href='javascript:void(0)' id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+
f+"</a>"+a+"</div>":a!==""?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+e.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+a+"</div>":"";h+="</div>";try{jQuery("#info_dialog").attr("aria-hidden")=="false"&&hideModal("#info_dialog",{jqm:g});jQuery("#info_dialog").remove()}catch(i){}createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},h,e,"","",true);a&&jQuery.each(e.buttons,
function(l){jQuery("#"+this.id,"#info_id").bind("click",function(){e.buttons[l].onClick.call(jQuery("#info_dialog"));return false})});jQuery("#closedialog","#info_id").click(function(){hideModal("#info_dialog",{jqm:g});return false});jQuery(".fm-button","#info_dialog").hover(function(){jQuery(this).addClass("ui-state-hover")},function(){jQuery(this).removeClass("ui-state-hover")});jQuery.isFunction(e.beforeOpen)&&e.beforeOpen();viewModal("#info_dialog",{onHide:function(l){l.w.hide().remove();l.o&&
l.o.remove()},modal:e.modal,jqm:g});jQuery.isFunction(e.afterOpen)&&e.afterOpen();try{jQuery("#info_dialog").focus()}catch(b){}}
function createEl(a,d,f,c,e){function g(q,s){if(jQuery.isFunction(s.dataInit)){q.id=s.id;s.dataInit(q);delete s.id;delete s.dataInit}if(s.dataEvents){jQuery.each(s.dataEvents,function(){this.data!==undefined?jQuery(q).bind(this.type,this.data,this.fn):jQuery(q).bind(this.type,this.fn)});delete s.dataEvents}return s}var h="";d.defaultValue&&delete d.defaultValue;switch(a){case "textarea":h=document.createElement("textarea");if(c)d.cols||jQuery(h).css({width:"98%"});else if(!d.cols)d.cols=20;if(!d.rows)d.rows=
2;if(f=="&nbsp;"||f=="&#160;"||f.length==1&&f.charCodeAt(0)==160)f="";h.value=f;d=g(h,d);jQuery(h).attr(d).attr({role:"textbox",multiline:"true"});break;case "checkbox":h=document.createElement("input");h.type="checkbox";if(d.value){var i=d.value.split(":");if(f===i[0]){h.checked=true;h.defaultChecked=true}h.value=i[0];jQuery(h).attr("offval",i[1]);try{delete d.value}catch(b){}}else{i=f.toLowerCase();if(i.search(/(false|0|no|off|undefined)/i)<0&&i!==""){h.checked=true;h.defaultChecked=true;h.value=
f}else h.value="on";jQuery(h).attr("offval","off")}d=g(h,d);jQuery(h).attr(d).attr("role","checkbox");break;case "select":h=document.createElement("select");h.setAttribute("role","select");var l,o=[];if(d.multiple===true){l=true;h.multiple="multiple";jQuery(h).attr("aria-multiselectable","true")}else l=false;if(typeof d.dataUrl!="undefined")jQuery.ajax(jQuery.extend({url:d.dataUrl,type:"GET",dataType:"html",success:function(q){try{delete d.dataUrl;delete d.value}catch(s){}if(typeof d.buildSelect!=
"undefined"){q=d.buildSelect(q);q=jQuery(q).html();delete d.buildSelect}else q=jQuery(q).html();if(q){jQuery(h).append(q);d=g(h,d);if(typeof d.size==="undefined")d.size=l?3:1;if(l){o=f.split(",");o=jQuery.map(o,function(k){return jQuery.trim(k)})}else o[0]=jQuery.trim(f);jQuery(h).attr(d);setTimeout(function(){jQuery("option",h).each(function(k){if(k===0)this.selected="";jQuery(this).attr("role","option");if(jQuery.inArray(jQuery.trim(jQuery(this).text()),o)>-1||jQuery.inArray(jQuery.trim(jQuery(this).val()),
o)>-1){this.selected="selected";if(!l)return false}})},0)}}},e||{}));else if(d.value){if(l){o=f.split(",");o=jQuery.map(o,function(q){return jQuery.trim(q)});if(typeof d.size==="undefined")d.size=3}else d.size=1;if(typeof d.value==="function")d.value=d.value();if(typeof d.value==="string"){c=d.value.split(";");for(i=0;i<c.length;i++){e=c[i].split(":");if(e.length>2)e[1]=jQuery.map(e,function(q,s){if(s>0)return q}).join(":");a=document.createElement("option");a.setAttribute("role","option");a.value=
e[0];a.innerHTML=e[1];if(!l&&(jQuery.trim(e[0])==jQuery.trim(f)||jQuery.trim(e[1])==jQuery.trim(f)))a.selected="selected";if(l&&(jQuery.inArray(jQuery.trim(e[1]),o)>-1||jQuery.inArray(jQuery.trim(e[0]),o)>-1))a.selected="selected";h.appendChild(a)}}else if(typeof d.value==="object"){c=d.value;for(i in c)if(c.hasOwnProperty(i)){a=document.createElement("option");a.setAttribute("role","option");a.value=i;a.innerHTML=c[i];if(!l&&(jQuery.trim(i)==jQuery.trim(f)||jQuery.trim(c[i])==jQuery.trim(f)))a.selected=
"selected";if(l&&(jQuery.inArray(jQuery.trim(c[i]),o)>-1||jQuery.inArray(jQuery.trim(i),o)>-1))a.selected="selected";h.appendChild(a)}}d=g(h,d);try{delete d.value}catch(w){}jQuery(h).attr(d)}break;case "text":case "password":case "button":i=a=="button"?"button":"textbox";h=document.createElement("input");h.type=a;h.value=f;d=g(h,d);if(a!="button")if(c)d.size||jQuery(h).css({width:"98%"});else if(!d.size)d.size=20;jQuery(h).attr(d).attr("role",i);break;case "image":case "file":h=document.createElement("input");
h.type=a;d=g(h,d);jQuery(h).attr(d);break;case "custom":h=document.createElement("span");try{if(jQuery.isFunction(d.custom_element)){var p=d.custom_element.call(this,f,d);if(p){p=jQuery(p).addClass("customelement").attr({id:d.id,name:d.name});jQuery(h).empty().append(p)}else throw"e2";}else throw"e1";}catch(u){u=="e1"&&info_dialog(jQuery.jgrid.errors.errcap,"function 'custom_element' "+jQuery.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose);u=="e2"?info_dialog(jQuery.jgrid.errors.errcap,"function 'custom_element' "+
jQuery.jgrid.edit.msg.novalue,jQuery.jgrid.edit.bClose):info_dialog(jQuery.jgrid.errors.errcap,typeof u==="string"?u:u.message,jQuery.jgrid.edit.bClose)}break}return h}function daysInFebruary(a){return a%4===0&&(a%100!==0||a%400===0)?29:28}function DaysArray(a){for(var d=1;d<=a;d++){this[d]=31;if(d==4||d==6||d==9||d==11)this[d]=30;if(d==2)this[d]=29}return this}
function checkDate(a,d){var f={},c;a=a.toLowerCase();c=a.indexOf("/")!=-1?"/":a.indexOf("-")!=-1?"-":a.indexOf(".")!=-1?".":"/";a=a.split(c);d=d.split(c);if(d.length!=3)return false;c=-1;for(var e,g=-1,h=-1,i=0;i<a.length;i++){e=isNaN(d[i])?0:parseInt(d[i],10);f[a[i]]=e;e=a[i];if(e.indexOf("y")!=-1)c=i;if(e.indexOf("m")!=-1)h=i;if(e.indexOf("d")!=-1)g=i}e=a[c]=="y"||a[c]=="yyyy"?4:a[c]=="yy"?2:-1;i=DaysArray(12);var b;if(c===-1)return false;else{b=f[a[c]].toString();if(e==2&&b.length==1)e=1;if(b.length!=
e||f[a[c]]===0&&d[c]!="00")return false}if(h===-1)return false;else{b=f[a[h]].toString();if(b.length<1||f[a[h]]<1||f[a[h]]>12)return false}if(g===-1)return false;else{b=f[a[g]].toString();if(b.length<1||f[a[g]]<1||f[a[g]]>31||f[a[h]]==2&&f[a[g]]>daysInFebruary(f[a[c]])||f[a[g]]>i[f[a[h]]])return false}return true}function isEmpty(a){return a.match(/^\s+$/)||a===""?true:false}
function checkTime(a){var d=/^(\d{1,2}):(\d{2})([ap]m)?$/;if(!isEmpty(a))if(a=a.match(d)){if(a[3]){if(a[1]<1||a[1]>12)return false}else if(a[1]>23)return false;if(a[2]>59)return false}else return false;return true}
function checkValues(a,d,f){var c,e,g,h;if(typeof d=="string"){e=0;for(h=f.p.colModel.length;e<h;e++)if(f.p.colModel[e].name==d){c=f.p.colModel[e].editrules;d=e;try{g=f.p.colModel[e].formoptions.label}catch(i){}break}}else if(d>=0)c=f.p.colModel[d].editrules;if(c){g||(g=f.p.colNames[d]);if(c.required===true)if(isEmpty(a))return[false,g+": "+jQuery.jgrid.edit.msg.required,""];e=c.required===false?false:true;if(c.number===true)if(!(e===false&&isEmpty(a)))if(isNaN(a))return[false,g+": "+jQuery.jgrid.edit.msg.number,
""];if(typeof c.minValue!="undefined"&&!isNaN(c.minValue))if(parseFloat(a)<parseFloat(c.minValue))return[false,g+": "+jQuery.jgrid.edit.msg.minValue+" "+c.minValue,""];if(typeof c.maxValue!="undefined"&&!isNaN(c.maxValue))if(parseFloat(a)>parseFloat(c.maxValue))return[false,g+": "+jQuery.jgrid.edit.msg.maxValue+" "+c.maxValue,""];if(c.email===true)if(!(e===false&&isEmpty(a))){h=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i;
if(!h.test(a))return[false,g+": "+jQuery.jgrid.edit.msg.email,""]}if(c.integer===true)if(!(e===false&&isEmpty(a))){if(isNaN(a))return[false,g+": "+jQuery.jgrid.edit.msg.integer,""];if(a%1!==0||a.indexOf(".")!=-1)return[false,g+": "+jQuery.jgrid.edit.msg.integer,""]}if(c.date===true)if(!(e===false&&isEmpty(a))){d=f.p.colModel[d].formatoptions&&f.p.colModel[d].formatoptions.newformat?f.p.colModel[d].formatoptions.newformat:f.p.colModel[d].datefmt||"Y-m-d";if(!checkDate(d,a))return[false,g+": "+jQuery.jgrid.edit.msg.date+
" - "+d,""]}if(c.time===true)if(!(e===false&&isEmpty(a)))if(!checkTime(a))return[false,g+": "+jQuery.jgrid.edit.msg.date+" - hh:mm (am/pm)",""];if(c.url===true)if(!(e===false&&isEmpty(a))){h=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;if(!h.test(a))return[false,g+": "+jQuery.jgrid.edit.msg.url,""]}if(c.custom===true)if(!(e===false&&isEmpty(a)))if(jQuery.isFunction(c.custom_func)){a=c.custom_func.call(f,a,g);return jQuery.isArray(a)?
a:[false,jQuery.jgrid.edit.msg.customarray,""]}else return[false,jQuery.jgrid.edit.msg.customfcheck,""]}return[true,"",""]}
(function(a){var d=null;a.jgrid.extend({searchGrid:function(f){f=a.extend({recreateFilter:false,drag:true,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:true,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,closeAfterSearch:false,closeAfterReset:false,closeOnEscape:false,multipleSearch:false,cloneSearchRowOnAdd:true,sopt:null,stringResult:undefined,onClose:null,useDataProxy:false,overlay:true},a.jgrid.search,f||{});return this.each(function(){function c(y,
x){x=y.p.postData[x.sFilter];if(typeof x=="string")x=a.jgrid.parse(x);if(x){x.groupOp&&y.SearchFilter.setGroupOp(x.groupOp);if(x.rules)for(var D,M=0,V=x.rules.length;M<V;M++){D=x.rules[M];D.field!==undefined&&D.op!==undefined&&D.data!==undefined&&y.SearchFilter.setFilter({sfref:y.SearchFilter.$.find(".sf:last"),filter:a.extend({},D)})&&y.SearchFilter.add()}}}function e(y){if(f.onClose){var x=f.onClose(y);if(typeof x=="boolean"&&!x)return}y.hide();f.overlay===true&&a(".jqgrid-overlay:first","#gbox_"+
b.p.id).hide()}function g(){var y=a(".ui-searchFilter").length;if(y>1){var x=a("#"+l).css("zIndex");a("#"+l).css({zIndex:parseInt(x,10)+y})}a("#"+l).show();f.overlay===true&&a(".jqgrid-overlay:first","#gbox_"+b.p.id).show();try{a(":input:visible","#"+l)[0].focus()}catch(D){}}function h(y){var x=y!==undefined,D=a("#"+b.p.id),M={};if(f.multipleSearch===false){M[f.sField]=y.rules[0].field;M[f.sValue]=y.rules[0].data;M[f.sOper]=y.rules[0].op}else M[f.sFilter]=y;D[0].p.search=x;a.extend(D[0].p.postData,
M);D.trigger("reloadGrid",[{page:1}]);f.closeAfterSearch&&e(a("#"+l))}function i(y){y=y&&y.hasOwnProperty("reload")?y.reload:true;var x=a("#"+b.p.id),D={};x[0].p.search=false;if(f.multipleSearch===false)D[f.sField]=D[f.sValue]=D[f.sOper]="";else D[f.sFilter]="";a.extend(x[0].p.postData,D);y&&x.trigger("reloadGrid",[{page:1}]);f.closeAfterReset&&e(a("#"+l))}var b=this;if(b.grid){var l="fbox_"+b.p.id;if(a.fn.searchFilter){f.recreateFilter===true&&a("#"+l).remove();if(a("#"+l).html()!=null){a.isFunction(f.beforeShowSearch)&&
f.beforeShowSearch(a("#"+l));g();a.isFunction(f.afterShowSearch)&&f.afterShowSearch(a("#"+l))}else{var o=[],w=a("#"+b.p.id).jqGrid("getGridParam","colNames"),p=a("#"+b.p.id).jqGrid("getGridParam","colModel"),u=["eq","ne","lt","le","gt","ge","bw","bn","in","ni","ew","en","cn","nc"],q,s,k,m=[];if(f.sopt!==null)for(q=k=0;q<f.sopt.length;q++){if((s=a.inArray(f.sopt[q],u))!=-1){m[k]={op:f.sopt[q],text:f.odata[s]};k++}}else for(q=0;q<u.length;q++)m[q]={op:u[q],text:f.odata[q]};a.each(p,function(y,x){var D=
typeof x.search==="undefined"?true:x.search,M=x.hidden===true;y=a.extend({},{text:w[y],itemval:x.index||x.name},this.searchoptions);x=y.searchhidden===true;if(typeof y.sopt!=="undefined"){k=0;y.ops=[];if(y.sopt.length>0)for(q=0;q<y.sopt.length;q++)if((s=a.inArray(y.sopt[q],u))!=-1){y.ops[k]={op:y.sopt[q],text:f.odata[s]};k++}}if(typeof this.stype==="undefined")this.stype="text";if(this.stype=="select")if(y.dataUrl===undefined){var V;if(y.value)V=y.value;else if(this.editoptions)V=this.editoptions.value;
if(V){y.dataValues=[];if(typeof V==="string"){V=V.split(";");var t;for(q=0;q<V.length;q++){t=V[q].split(":");y.dataValues[q]={value:t[0],text:t[1]}}}else if(typeof V==="object"){q=0;for(t in V)if(V.hasOwnProperty(t)){y.dataValues[q]={value:t,text:V[t]};q++}}}}if(x&&D||D&&!M)o.push(y)});if(o.length>0){a("<div id='"+l+"' role='dialog' tabindex='-1'></div>").insertBefore("#gview_"+b.p.id);if(f.stringResult===undefined)f.stringResult=f.multipleSearch;b.SearchFilter=a("#"+l).searchFilter(o,{groupOps:f.groupOps,
operators:m,onClose:e,resetText:f.Reset,searchText:f.Find,windowTitle:f.caption,rulesText:f.rulesText,matchText:f.matchText,onSearch:h,onReset:i,stringResult:f.stringResult,ajaxSelectOptions:a.extend({},a.jgrid.ajaxOptions,b.p.ajaxSelectOptions||{}),clone:f.cloneSearchRowOnAdd});a(".ui-widget-overlay","#"+l).remove();b.p.direction=="rtl"&&a(".ui-closer","#"+l).css("float","left");if(f.drag===true){a("#"+l+" table thead tr:first td:first").css("cursor","move");if(jQuery.fn.jqDrag)a("#"+l).jqDrag(a("#"+
l+" table thead tr:first td:first"));else try{a("#"+l).draggable({handle:a("#"+l+" table thead tr:first td:first")})}catch(v){}}if(f.multipleSearch===false){a(".ui-del, .ui-add, .ui-del, .ui-add-last, .matchText, .rulesText","#"+l).hide();a("select[name='groupOp']","#"+l).hide()}f.multipleSearch===true&&f.loadDefaults===true&&c(b,f);a.isFunction(f.onInitializeSearch)&&f.onInitializeSearch(a("#"+l));a.isFunction(f.beforeShowSearch)&&f.beforeShowSearch(a("#"+l));g();a.isFunction(f.afterShowSearch)&&
f.afterShowSearch(a("#"+l));f.closeOnEscape===true&&a("#"+l).keydown(function(y){y.which==27&&e(a("#"+l))})}}}}})},editGridRow:function(f,c){d=c=a.extend({top:0,left:0,width:300,height:"auto",dataheight:"auto",modal:false,drag:true,resize:true,url:null,mtype:"POST",clearAfterAdd:true,closeAfterEdit:false,reloadAfterSubmit:true,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,
afterclickPgButtons:null,editData:{},recreateForm:false,jqModal:true,closeOnEscape:false,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[false,13],navkeys:[false,38,40],checkOnSubmit:false,checkOnUpdate:false,_savedData:{},processing:false,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:true},a.jgrid.edit,c||{});return this.each(function(){function e(){a(".FormElement","#"+s).each(function(){var z=a(".customelement",this);if(z.length){var I=a(z[0]).attr("name");
a.each(p.p.colModel,function(){if(this.name==I&&this.editoptions&&a.isFunction(this.editoptions.custom_value)){try{t[I]=this.editoptions.custom_value(a("#"+I,"#"+s),"get");if(t[I]===undefined)throw"e1";}catch(G){G=="e1"?info_dialog(jQuery.jgrid.errors.errcap,"function 'custom_value' "+a.jgrid.edit.msg.novalue,jQuery.jgrid.edit.bClose):info_dialog(jQuery.jgrid.errors.errcap,G.message,jQuery.jgrid.edit.bClose)}return true}})}else{switch(a(this).get(0).type){case "checkbox":if(a(this).attr("checked"))t[this.name]=
a(this).val();else{z=a(this).attr("offval");t[this.name]=z}break;case "select-one":t[this.name]=a("option:selected",this).val();O[this.name]=a("option:selected",this).text();break;case "select-multiple":t[this.name]=a(this).val();t[this.name]=t[this.name]?t[this.name].join(","):"";var Q=[];a("option:selected",this).each(function(G,ba){Q[G]=a(ba).text()});O[this.name]=Q.join(",");break;case "password":case "text":case "textarea":case "button":t[this.name]=a(this).val();break}if(p.p.autoencode)t[this.name]=
a.jgrid.htmlEncode(t[this.name])}});return true}function g(z,I,Q,G){for(var ba,H,L=0,S,ga,da,ea=[],ma=false,ja="",pa=1;pa<=G;pa++)ja+="<td class='CaptionTD ui-widget-content'>&#160;</td><td class='DataTD ui-widget-content' style='white-space:pre'>&#160;</td>";if(z!="_empty")ma=a(I).jqGrid("getInd",z);a(I.p.colModel).each(function(ka){ba=this.name;ga=(this.editrules&&this.editrules.edithidden===true?false:this.hidden===true?true:false)?"style='display:none'":"";if(ba!=="cb"&&ba!=="subgrid"&&this.editable===
true&&ba!=="rn"){if(ma===false)S="";else if(ba==I.p.ExpandColumn&&I.p.treeGrid===true)S=a("td:eq("+ka+")",I.rows[ma]).text();else try{S=a.unformat(a("td:eq("+ka+")",I.rows[ma]),{rowId:z,colModel:this},ka)}catch(va){S=a("td:eq("+ka+")",I.rows[ma]).html()}var sa=a.extend({},this.editoptions||{},{id:ba,name:ba}),ya=a.extend({},{elmprefix:"",elmsuffix:"",rowabove:false,rowcontent:""},this.formoptions||{}),j=parseInt(ya.rowpos,10)||L+1,n=parseInt((parseInt(ya.colpos,10)||1)*2,10);if(z=="_empty"&&sa.defaultValue)S=
a.isFunction(sa.defaultValue)?sa.defaultValue():sa.defaultValue;if(!this.edittype)this.edittype="text";if(p.p.autoencode)S=a.jgrid.htmlDecode(S);da=createEl(this.edittype,sa,S,false,a.extend({},a.jgrid.ajaxOptions,I.p.ajaxSelectOptions||{}));if(S===""&&this.edittype=="checkbox")S=a(da).attr("offval");if(S===""&&this.edittype=="select")S=a("option:eq(0)",da).text();if(d.checkOnSubmit||d.checkOnUpdate)d._savedData[ba]=S;a(da).addClass("FormElement");H=a(Q).find("tr[rowpos="+j+"]");if(ya.rowabove){sa=
a("<tr><td class='contentinfo' colspan='"+G*2+"'>"+ya.rowcontent+"</td></tr>");a(Q).append(sa);sa[0].rp=j}if(H.length===0){H=a("<tr "+ga+" rowpos='"+j+"'></tr>").addClass("FormData").attr("id","tr_"+ba);a(H).append(ja);a(Q).append(H);H[0].rp=j}a("td:eq("+(n-2)+")",H[0]).html(typeof ya.label==="undefined"?I.p.colNames[ka]:ya.label);a("td:eq("+(n-1)+")",H[0]).append(ya.elmprefix).append(da).append(ya.elmsuffix);ea[L]=ka;L++}});if(L>0){pa=a("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+
(G*2-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+I.p.id+"_id' value='"+z+"'/></td></tr>");pa[0].rp=L+999;a(Q).append(pa);if(d.checkOnSubmit||d.checkOnUpdate)d._savedData[I.p.id+"_id"]=z}return ea}function h(z,I,Q){var G,ba=0,H,L,S,ga,da;if(d.checkOnSubmit||d.checkOnUpdate){d._savedData={};d._savedData[I.p.id+"_id"]=z}var ea=I.p.colModel;if(z=="_empty"){a(ea).each(function(){G=this.name;S=a.extend({},this.editoptions||{});L=a("#"+a.jgrid.jqID(G),"#"+Q);if(L[0]!=null){ga=
"";if(S.defaultValue){ga=a.isFunction(S.defaultValue)?S.defaultValue():S.defaultValue;if(L[0].type=="checkbox"){da=ga.toLowerCase();if(da.search(/(false|0|no|off|undefined)/i)<0&&da!==""){L[0].checked=true;L[0].defaultChecked=true;L[0].value=ga}else L.attr({checked:"",defaultChecked:""})}else L.val(ga)}else if(L[0].type=="checkbox"){L[0].checked=false;L[0].defaultChecked=false;ga=a(L).attr("offval")}else if(L[0].type&&L[0].type.substr(0,6)=="select")L[0].selectedIndex=0;else L.val(ga);if(d.checkOnSubmit===
true||d.checkOnUpdate)d._savedData[G]=ga}});a("#id_g","#"+Q).val(z)}else{var ma=a(I).jqGrid("getInd",z,true);if(ma){a("td",ma).each(function(ja){G=ea[ja].name;if(G!=="cb"&&G!=="subgrid"&&G!=="rn"&&ea[ja].editable===true){if(G==I.p.ExpandColumn&&I.p.treeGrid===true)H=a(this).text();else try{H=a.unformat(a(this),{rowId:z,colModel:ea[ja]},ja)}catch(pa){H=a(this).html()}if(p.p.autoencode)H=a.jgrid.htmlDecode(H);if(d.checkOnSubmit===true||d.checkOnUpdate)d._savedData[G]=H;G=a.jgrid.jqID(G);switch(ea[ja].edittype){case "password":case "text":case "button":case "image":a("#"+
G,"#"+Q).val(H);break;case "textarea":if(H=="&nbsp;"||H=="&#160;"||H.length==1&&H.charCodeAt(0)==160)H="";a("#"+G,"#"+Q).val(H);break;case "select":var ka=H.split(",");ka=a.map(ka,function(sa){return a.trim(sa)});a("#"+G+" option","#"+Q).each(function(){this.selected=!ea[ja].editoptions.multiple&&(ka[0]==a.trim(a(this).text())||ka[0]==a.trim(a(this).val()))?true:ea[ja].editoptions.multiple?a.inArray(a.trim(a(this).text()),ka)>-1||a.inArray(a.trim(a(this).val()),ka)>-1?true:false:false});break;case "checkbox":H+=
"";if(ea[ja].editoptions&&ea[ja].editoptions.value)if(ea[ja].editoptions.value.split(":")[0]==H){a("#"+G,"#"+Q).attr("checked",true);a("#"+G,"#"+Q).attr("defaultChecked",true)}else{a("#"+G,"#"+Q).attr("checked",false);a("#"+G,"#"+Q).attr("defaultChecked","")}else{H=H.toLowerCase();if(H.search(/(false|0|no|off|undefined)/i)<0&&H!==""){a("#"+G,"#"+Q).attr("checked",true);a("#"+G,"#"+Q).attr("defaultChecked",true)}else{a("#"+G,"#"+Q).attr("checked",false);a("#"+G,"#"+Q).attr("defaultChecked","")}}break;
case "custom":try{if(ea[ja].editoptions&&a.isFunction(ea[ja].editoptions.custom_value))ea[ja].editoptions.custom_value(a("#"+G,"#"+Q),"set",H);else throw"e1";}catch(va){va=="e1"?info_dialog(jQuery.jgrid.errors.errcap,"function 'custom_value' "+a.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose):info_dialog(jQuery.jgrid.errors.errcap,va.message,jQuery.jgrid.edit.bClose)}break}ba++}});ba>0&&a("#id_g","#"+s).val(z)}}}function i(){var z=[true,"",""],I={},Q=p.p.prmNames,G,ba;if(a.isFunction(d.beforeCheckValues)){var H=
d.beforeCheckValues(t,a("#"+q),t[p.p.id+"_id"]=="_empty"?Q.addoper:Q.editoper);if(H&&typeof H==="object")t=H}for(var L in t)if(t.hasOwnProperty(L)){z=checkValues(t[L],L,p);if(z[0]===false)break}if(z[0]){if(a.isFunction(d.onclickSubmit))I=d.onclickSubmit(d,t)||{};if(a.isFunction(d.beforeSubmit))z=d.beforeSubmit(t,a("#"+q))}if(z[0]&&!d.processing){d.processing=true;a("#sData","#"+s+"_2").addClass("ui-state-active");ba=Q.oper;G=Q.id;t[ba]=a.trim(t[p.p.id+"_id"])=="_empty"?Q.addoper:Q.editoper;if(t[ba]!=
Q.addoper)t[G]=t[p.p.id+"_id"];else if(t[G]===undefined)t[G]=t[p.p.id+"_id"];delete t[p.p.id+"_id"];t=a.extend(t,d.editData,I);I=a.extend({url:d.url?d.url:a(p).jqGrid("getGridParam","editurl"),type:d.mtype,data:a.isFunction(d.serializeEditData)?d.serializeEditData(t):t,complete:function(S,ga){if(ga!="success"){z[0]=false;z[1]=a.isFunction(d.errorTextFormat)?d.errorTextFormat(S):ga+" Status: '"+S.statusText+"'. Error code: "+S.status}else if(a.isFunction(d.afterSubmit))z=d.afterSubmit(S,t);if(z[0]===
false){a("#FormError>td","#"+s).html(z[1]);a("#FormError","#"+s).show()}else{a.each(p.p.colModel,function(){if(O[this.name]&&this.formatter&&this.formatter=="select")try{delete O[this.name]}catch(ma){}});t=a.extend(t,O);p.p.autoencode&&a.each(t,function(ma,ja){t[ma]=a.jgrid.htmlDecode(ja)});d.reloadAfterSubmit=d.reloadAfterSubmit&&p.p.datatype!="local";if(t[ba]==Q.addoper){z[2]||(z[2]=parseInt(p.p.records,10)+1+"");t[G]=z[2];if(d.closeAfterAdd){if(d.reloadAfterSubmit)a(p).trigger("reloadGrid");else{a(p).jqGrid("addRowData",
z[2],t,c.addedrow);a(p).jqGrid("setSelection",z[2])}hideModal("#"+k.themodal,{gb:"#gbox_"+u,jqm:c.jqModal,onClose:d.onClose})}else if(d.clearAfterAdd){d.reloadAfterSubmit?a(p).trigger("reloadGrid"):a(p).jqGrid("addRowData",z[2],t,c.addedrow);h("_empty",p,q)}else d.reloadAfterSubmit?a(p).trigger("reloadGrid"):a(p).jqGrid("addRowData",z[2],t,c.addedrow)}else{if(d.reloadAfterSubmit){a(p).trigger("reloadGrid");d.closeAfterEdit||setTimeout(function(){a(p).jqGrid("setSelection",t[G])},1E3)}else p.p.treeGrid===
true?a(p).jqGrid("setTreeRow",t[G],t):a(p).jqGrid("setRowData",t[G],t);d.closeAfterEdit&&hideModal("#"+k.themodal,{gb:"#gbox_"+u,jqm:c.jqModal,onClose:d.onClose})}if(a.isFunction(d.afterComplete)){D=S;setTimeout(function(){d.afterComplete(D,t,a("#"+q));D=null},500)}}d.processing=false;if(d.checkOnSubmit||d.checkOnUpdate){a("#"+q).data("disabled",false);if(d._savedData[p.p.id+"_id"]!="_empty")for(var da in d._savedData)if(t[da])d._savedData[da]=t[da]}a("#sData","#"+s+"_2").removeClass("ui-state-active");
try{a(":input:visible","#"+q)[0].focus()}catch(ea){}},error:function(S,ga,da){a("#FormError>td","#"+s).html(ga+" : "+da);a("#FormError","#"+s).show();d.processing=false;a("#"+q).data("disabled",false);a("#sData","#"+s+"_2").removeClass("ui-state-active")}},a.jgrid.ajaxOptions,d.ajaxEditOptions);if(!I.url&&!d.useDataProxy)if(a.isFunction(p.p.dataProxy))d.useDataProxy=true;else{z[0]=false;z[1]+=" "+a.jgrid.errors.nourl}if(z[0])d.useDataProxy?p.p.dataProxy.call(p,I,"set_"+p.p.id):a.ajax(I)}if(z[0]===
false){a("#FormError>td","#"+s).html(z[1]);a("#FormError","#"+s).show()}}function b(z,I){var Q=false,G;for(G in z)if(z[G]!=I[G]){Q=true;break}return Q}function l(){var z=true;a("#FormError","#"+s).hide();if(d.checkOnUpdate){t={};O={};e();Y=a.extend({},t,O);if(W=b(Y,d._savedData)){a("#"+q).data("disabled",true);a(".confirm","#"+k.themodal).show();z=false}}return z}function o(z,I){z===0?a("#pData","#"+s+"_2").addClass("ui-state-disabled"):a("#pData","#"+s+"_2").removeClass("ui-state-disabled");z==I?
a("#nData","#"+s+"_2").addClass("ui-state-disabled"):a("#nData","#"+s+"_2").removeClass("ui-state-disabled")}function w(){var z=a(p).jqGrid("getDataIDs"),I=a("#id_g","#"+s).val();return[a.inArray(I,z),z]}var p=this;if(p.grid&&f){var u=p.p.id,q="FrmGrid_"+u,s="TblGrid_"+u,k={themodal:"editmod"+u,modalhead:"edithd"+u,modalcontent:"editcnt"+u,scrollelm:q},m=a.isFunction(d.beforeShowForm)?d.beforeShowForm:false,v=a.isFunction(d.afterShowForm)?d.afterShowForm:false,y=a.isFunction(d.beforeInitData)?d.beforeInitData:
false,x=a.isFunction(d.onInitializeForm)?d.onInitializeForm:false,D=null,M=1,V=0,t,O,Y,W;if(f=="new"){f="_empty";c.caption=c.addCaption}else c.caption=c.editCaption;c.recreateForm===true&&a("#"+k.themodal).html()!=null&&a("#"+k.themodal).remove();var X=true;if(c.checkOnUpdate&&c.jqModal&&!c.modal)X=false;if(a("#"+k.themodal).html()!=null){a(".ui-jqdialog-title","#"+k.modalhead).html(c.caption);a("#FormError","#"+s).hide();if(d.topinfo){a(".topinfo","#"+s+"_2").html(d.topinfo);a(".tinfo","#"+s+"_2").show()}else a(".tinfo",
"#"+s+"_2").hide();if(d.bottominfo){a(".bottominfo","#"+s+"_2").html(d.bottominfo);a(".binfo","#"+s+"_2").show()}else a(".binfo","#"+s+"_2").hide();y&&y(a("#"+q));h(f,p,q);f=="_empty"||!d.viewPagerButtons?a("#pData, #nData","#"+s+"_2").hide():a("#pData, #nData","#"+s+"_2").show();if(d.processing===true){d.processing=false;a("#sData","#"+s+"_2").removeClass("ui-state-active")}if(a("#"+q).data("disabled")===true){a(".confirm","#"+k.themodal).hide();a("#"+q).data("disabled",false)}m&&m(a("#"+q));a("#"+
k.themodal).data("onClose",d.onClose);viewModal("#"+k.themodal,{gbox:"#gbox_"+u,jqm:c.jqModal,jqM:false,closeoverlay:X,modal:c.modal});X||a(".jqmOverlay").click(function(){if(!l())return false;hideModal("#"+k.themodal,{gb:"#gbox_"+u,jqm:c.jqModal,onClose:d.onClose});return false});v&&v(a("#"+q))}else{a(p.p.colModel).each(function(){var z=this.formoptions;M=Math.max(M,z?z.colpos||0:0);V=Math.max(V,z?z.rowpos||0:0)});var ia=isNaN(c.dataheight)?c.dataheight:c.dataheight+"px";ia=a("<form name='FormPost' id='"+
q+"' class='FormGrid' onSubmit='return false;' style='width:100%;overflow:auto;position:relative;height:"+ia+";'></form>").data("disabled",false);var aa=a("<table id='"+s+"' class='EditTable' cellspacing='0' cellpading='0' border='0'><tbody></tbody></table>");a(ia).append(aa);var Z=a("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+M*2+"'></td></tr>");Z[0].rp=0;a(aa).append(Z);Z=a("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+M*2+"'>"+d.topinfo+
"</td></tr>");Z[0].rp=0;a(aa).append(Z);y&&y(a("#"+q));Z=(y=p.p.direction=="rtl"?true:false)?"nData":"pData";var wa=y?"pData":"nData";g(f,p,aa,M);Z="<a href='javascript:void(0)' id='"+Z+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></div>";wa="<a href='javascript:void(0)' id='"+wa+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></div>";var Da="<a href='javascript:void(0)' id='sData' class='fm-button ui-state-default ui-corner-all'>"+
c.bSubmit+"</a>",Ea="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+c.bCancel+"</a>";Z="<table border='0' class='EditTable' id='"+s+"_2'><tbody><tr id='Act_Buttons'><td class='navButton ui-widget-content'>"+(y?wa+Z:Z+wa)+"</td><td class='EditButton ui-widget-content'>"+Da+Ea+"</td></tr>";Z+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+d.bottominfo+"</td></tr>";Z+="</tbody></table>";if(V>0){var Aa=[];a.each(a(aa)[0].rows,function(z,
I){Aa[z]=I});Aa.sort(function(z,I){if(z.rp>I.rp)return 1;if(z.rp<I.rp)return-1;return 0});a.each(Aa,function(z,I){a("tbody",aa).append(I)})}c.gbox="#gbox_"+u;var oa=false;if(c.closeOnEscape===true){c.closeOnEscape=false;oa=true}ia=a("<span></span>").append(ia).append(Z);createModal(k,ia,c,"#gview_"+p.p.id,a("#gbox_"+p.p.id)[0]);if(y){a("#pData, #nData","#"+s+"_2").css("float","right");a(".EditButton","#"+s+"_2").css("text-align","left")}d.topinfo&&a(".tinfo","#"+s+"_2").show();d.bottominfo&&a(".binfo",
"#"+s+"_2").show();Z=ia=null;a("#"+k.themodal).keydown(function(z){var I=z.target;if(a("#"+q).data("disabled")===true)return false;if(d.savekey[0]===true&&z.which==d.savekey[1])if(I.tagName!="TEXTAREA"){a("#sData","#"+s+"_2").trigger("click");return false}if(z.which===27){if(!l())return false;oa&&hideModal(this,{gb:c.gbox,jqm:c.jqModal,onClose:d.onClose});return false}if(d.navkeys[0]===true){if(a("#id_g","#"+s).val()=="_empty")return true;if(z.which==d.navkeys[1]){a("#pData","#"+s+"_2").trigger("click");
return false}if(z.which==d.navkeys[2]){a("#nData","#"+s+"_2").trigger("click");return false}}});if(c.checkOnUpdate){a("a.ui-jqdialog-titlebar-close span","#"+k.themodal).removeClass("jqmClose");a("a.ui-jqdialog-titlebar-close","#"+k.themodal).unbind("click").click(function(){if(!l())return false;hideModal("#"+k.themodal,{gb:"#gbox_"+u,jqm:c.jqModal,onClose:d.onClose});return false})}c.saveicon=a.extend([true,"left","ui-icon-disk"],c.saveicon);c.closeicon=a.extend([true,"left","ui-icon-close"],c.closeicon);
if(c.saveicon[0]===true)a("#sData","#"+s+"_2").addClass(c.saveicon[1]=="right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+c.saveicon[2]+"'></span>");if(c.closeicon[0]===true)a("#cData","#"+s+"_2").addClass(c.closeicon[1]=="right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+c.closeicon[2]+"'></span>");if(d.checkOnSubmit||d.checkOnUpdate){Da="<a href='javascript:void(0)' id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+
c.bYes+"</a>";wa="<a href='javascript:void(0)' id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+c.bNo+"</a>";Ea="<a href='javascript:void(0)' id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+c.bExit+"</a>";ia=c.zIndex||999;ia++;a("<div class='ui-widget-overlay jqgrid-overlay confirm' style='z-index:"+ia+";display:none;'>&#160;"+(a.browser.msie&&a.browser.version==6?'<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"></iframe>':
"")+"</div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:"+(ia+1)+"'>"+c.saveData+"<br/><br/>"+Da+wa+Ea+"</div>").insertAfter("#"+q);a("#sNew","#"+k.themodal).click(function(){i();a("#"+q).data("disabled",false);a(".confirm","#"+k.themodal).hide();return false});a("#nNew","#"+k.themodal).click(function(){a(".confirm","#"+k.themodal).hide();a("#"+q).data("disabled",false);setTimeout(function(){a(":input","#"+q)[0].focus()},0);return false});a("#cNew","#"+k.themodal).click(function(){a(".confirm",
"#"+k.themodal).hide();a("#"+q).data("disabled",false);hideModal("#"+k.themodal,{gb:"#gbox_"+u,jqm:c.jqModal,onClose:d.onClose});return false})}x&&x(a("#"+q));f=="_empty"||!d.viewPagerButtons?a("#pData,#nData","#"+s+"_2").hide():a("#pData,#nData","#"+s+"_2").show();m&&m(a("#"+q));a("#"+k.themodal).data("onClose",d.onClose);viewModal("#"+k.themodal,{gbox:"#gbox_"+u,jqm:c.jqModal,closeoverlay:X,modal:c.modal});X||a(".jqmOverlay").click(function(){if(!l())return false;hideModal("#"+k.themodal,{gb:"#gbox_"+
u,jqm:c.jqModal,onClose:d.onClose});return false});v&&v(a("#"+q));a(".fm-button","#"+k.themodal).hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});a("#sData","#"+s+"_2").click(function(){t={};O={};a("#FormError","#"+s).hide();e();if(t[p.p.id+"_id"]=="_empty")i();else if(c.checkOnSubmit===true){Y=a.extend({},t,O);if(W=b(Y,d._savedData)){a("#"+q).data("disabled",true);a(".confirm","#"+k.themodal).show()}else i()}else i();return false});a("#cData",
"#"+s+"_2").click(function(){if(!l())return false;hideModal("#"+k.themodal,{gb:"#gbox_"+u,jqm:c.jqModal,onClose:d.onClose});return false});a("#nData","#"+s+"_2").click(function(){if(!l())return false;a("#FormError","#"+s).hide();var z=w();z[0]=parseInt(z[0],10);if(z[0]!=-1&&z[1][z[0]+1]){a.isFunction(c.onclickPgButtons)&&c.onclickPgButtons("next",a("#"+q),z[1][z[0]]);h(z[1][z[0]+1],p,q);a(p).jqGrid("setSelection",z[1][z[0]+1]);a.isFunction(c.afterclickPgButtons)&&c.afterclickPgButtons("next",a("#"+
q),z[1][z[0]+1]);o(z[0]+1,z[1].length-1)}return false});a("#pData","#"+s+"_2").click(function(){if(!l())return false;a("#FormError","#"+s).hide();var z=w();if(z[0]!=-1&&z[1][z[0]-1]){a.isFunction(c.onclickPgButtons)&&c.onclickPgButtons("prev",a("#"+q),z[1][z[0]]);h(z[1][z[0]-1],p,q);a(p).jqGrid("setSelection",z[1][z[0]-1]);a.isFunction(c.afterclickPgButtons)&&c.afterclickPgButtons("prev",a("#"+q),z[1][z[0]-1]);o(z[0]-1,z[1].length-1)}return false})}m=w();o(m[0],m[1].length-1)}})},viewGridRow:function(f,
c){c=a.extend({top:0,left:0,width:0,height:"auto",dataheight:"auto",modal:false,drag:true,resize:true,jqModal:true,closeOnEscape:false,labelswidth:"30%",closeicon:[],navkeys:[false,38,40],onClose:null,beforeShowForm:null,viewPagerButtons:true},a.jgrid.view,c||{});return this.each(function(){function e(){if(c.closeOnEscape===true||c.navkeys[0]===true)setTimeout(function(){a(".ui-jqdialog-titlebar-close","#"+u.modalhead).focus()},0)}function g(t,O,Y,W){for(var X,ia,aa,Z=0,wa,Da,Ea=[],Aa=false,oa="<td class='CaptionTD form-view-label ui-widget-content' width='"+
c.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;</td>",z="",I=["integer","number","currency"],Q=0,G=0,ba,H,L,S=1;S<=W;S++)z+=S==1?oa:"<td class='CaptionTD form-view-label ui-widget-content'>&#160;</td><td class='DataTD form-view-data ui-widget-content'>&#160;</td>";a(O.p.colModel).each(function(){ia=this.editrules&&this.editrules.edithidden===true?false:this.hidden===true?true:false;if(!ia&&this.align==="right")if(this.formatter&&a.inArray(this.formatter,
I)!==-1)Q=Math.max(Q,parseInt(this.width,10));else G=Math.max(G,parseInt(this.width,10))});ba=Q!==0?Q:G!==0?G:0;Aa=a(O).jqGrid("getInd",t);a(O.p.colModel).each(function(ga){X=this.name;H=false;Da=(ia=this.editrules&&this.editrules.edithidden===true?false:this.hidden===true?true:false)?"style='display:none'":"";L=typeof this.viewable!="boolean"?true:this.viewable;if(X!=="cb"&&X!=="subgrid"&&X!=="rn"&&L){wa=Aa===false?"":X==O.p.ExpandColumn&&O.p.treeGrid===true?a("td:eq("+ga+")",O.rows[Aa]).text():
a("td:eq("+ga+")",O.rows[Aa]).html();H=this.align==="right"&&ba!==0?true:false;a.extend({},this.editoptions||{},{id:X,name:X});var da=a.extend({},{rowabove:false,rowcontent:""},this.formoptions||{}),ea=parseInt(da.rowpos,10)||Z+1,ma=parseInt((parseInt(da.colpos,10)||1)*2,10);if(da.rowabove){var ja=a("<tr><td class='contentinfo' colspan='"+W*2+"'>"+da.rowcontent+"</td></tr>");a(Y).append(ja);ja[0].rp=ea}aa=a(Y).find("tr[rowpos="+ea+"]");if(aa.length===0){aa=a("<tr "+Da+" rowpos='"+ea+"'></tr>").addClass("FormData").attr("id",
"trv_"+X);a(aa).append(z);a(Y).append(aa);aa[0].rp=ea}a("td:eq("+(ma-2)+")",aa[0]).html("<b>"+(typeof da.label==="undefined"?O.p.colNames[ga]:da.label)+"</b>");a("td:eq("+(ma-1)+")",aa[0]).append("<span>"+wa+"</span>").attr("id","v_"+X);H&&a("td:eq("+(ma-1)+") span",aa[0]).css({"text-align":"right",width:ba+"px"});Ea[Z]=ga;Z++}});if(Z>0){t=a("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(W*2-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+
t+"'/></td></tr>");t[0].rp=Z+99;a(Y).append(t)}return Ea}function h(t,O){var Y,W,X=0,ia,aa;if(aa=a(O).jqGrid("getInd",t,true)){a("td",aa).each(function(Z){Y=O.p.colModel[Z].name;W=O.p.colModel[Z].editrules&&O.p.colModel[Z].editrules.edithidden===true?false:O.p.colModel[Z].hidden===true?true:false;if(Y!=="cb"&&Y!=="subgrid"&&Y!=="rn"){ia=Y==O.p.ExpandColumn&&O.p.treeGrid===true?a(this).text():a(this).html();a.extend({},O.p.colModel[Z].editoptions||{});Y=a.jgrid.jqID("v_"+Y);a("#"+Y+" span","#"+p).html(ia);
W&&a("#"+Y,"#"+p).parents("tr:first").hide();X++}});X>0&&a("#id_g","#"+p).val(t)}}function i(t,O){t===0?a("#pData","#"+p+"_2").addClass("ui-state-disabled"):a("#pData","#"+p+"_2").removeClass("ui-state-disabled");t==O?a("#nData","#"+p+"_2").addClass("ui-state-disabled"):a("#nData","#"+p+"_2").removeClass("ui-state-disabled")}function b(){var t=a(l).jqGrid("getDataIDs"),O=a("#id_g","#"+p).val();return[a.inArray(O,t),t]}var l=this;if(l.grid&&f){if(!c.imgpath)c.imgpath=l.p.imgpath;var o=l.p.id,w="ViewGrid_"+
o,p="ViewTbl_"+o,u={themodal:"viewmod"+o,modalhead:"viewhd"+o,modalcontent:"viewcnt"+o,scrollelm:w},q=1,s=0;if(a("#"+u.themodal).html()!=null){a(".ui-jqdialog-title","#"+u.modalhead).html(c.caption);a("#FormError","#"+p).hide();h(f,l);a.isFunction(c.beforeShowForm)&&c.beforeShowForm(a("#"+w));viewModal("#"+u.themodal,{gbox:"#gbox_"+o,jqm:c.jqModal,jqM:false,modal:c.modal});e()}else{a(l.p.colModel).each(function(){var t=this.formoptions;q=Math.max(q,t?t.colpos||0:0);s=Math.max(s,t?t.rowpos||0:0)});
var k=isNaN(c.dataheight)?c.dataheight:c.dataheight+"px",m=a("<form name='FormPost' id='"+w+"' class='FormGrid' style='width:100%;overflow:auto;position:relative;height:"+k+";'></form>"),v=a("<table id='"+p+"' class='EditTable' cellspacing='1' cellpading='2' border='0' style='table-layout:fixed'><tbody></tbody></table>");a(m).append(v);g(f,l,v,q);k=l.p.direction=="rtl"?true:false;var y="<a href='javascript:void(0)' id='"+(k?"nData":"pData")+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",
x="<a href='javascript:void(0)' id='"+(k?"pData":"nData")+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",D="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+c.bClose+"</a>";if(s>0){var M=[];a.each(a(v)[0].rows,function(t,O){M[t]=O});M.sort(function(t,O){if(t.rp>O.rp)return 1;if(t.rp<O.rp)return-1;return 0});a.each(M,function(t,O){a("tbody",v).append(O)})}c.gbox="#gbox_"+o;var V=false;if(c.closeOnEscape===
true){c.closeOnEscape=false;V=true}m=a("<span></span>").append(m).append("<table border='0' class='EditTable' id='"+p+"_2'><tbody><tr id='Act_Buttons'><td class='navButton ui-widget-content' width='"+c.labelswidth+"'>"+(k?x+y:y+x)+"</td><td class='EditButton ui-widget-content'>"+D+"</td></tr></tbody></table>");createModal(u,m,c,"#gview_"+l.p.id,a("#gview_"+l.p.id)[0]);if(k){a("#pData, #nData","#"+p+"_2").css("float","right");a(".EditButton","#"+p+"_2").css("text-align","left")}c.viewPagerButtons||
a("#pData, #nData","#"+p+"_2").hide();m=null;a("#"+u.themodal).keydown(function(t){if(t.which===27){V&&hideModal(this,{gb:c.gbox,jqm:c.jqModal,onClose:c.onClose});return false}if(c.navkeys[0]===true){if(t.which===c.navkeys[1]){a("#pData","#"+p+"_2").trigger("click");return false}if(t.which===c.navkeys[2]){a("#nData","#"+p+"_2").trigger("click");return false}}});c.closeicon=a.extend([true,"left","ui-icon-close"],c.closeicon);if(c.closeicon[0]===true)a("#cData","#"+p+"_2").addClass(c.closeicon[1]==
"right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+c.closeicon[2]+"'></span>");a.isFunction(c.beforeShowForm)&&c.beforeShowForm(a("#"+w));viewModal("#"+u.themodal,{gbox:"#gbox_"+o,jqm:c.jqModal,modal:c.modal});a(".fm-button:not(.ui-state-disabled)","#"+p+"_2").hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});e();a("#cData","#"+p+"_2").click(function(){hideModal("#"+u.themodal,{gb:"#gbox_"+o,jqm:c.jqModal,onClose:c.onClose});
return false});a("#nData","#"+p+"_2").click(function(){a("#FormError","#"+p).hide();var t=b();t[0]=parseInt(t[0],10);if(t[0]!=-1&&t[1][t[0]+1]){a.isFunction(c.onclickPgButtons)&&c.onclickPgButtons("next",a("#"+w),t[1][t[0]]);h(t[1][t[0]+1],l);a(l).jqGrid("setSelection",t[1][t[0]+1]);a.isFunction(c.afterclickPgButtons)&&c.afterclickPgButtons("next",a("#"+w),t[1][t[0]+1]);i(t[0]+1,t[1].length-1)}e();return false});a("#pData","#"+p+"_2").click(function(){a("#FormError","#"+p).hide();var t=b();if(t[0]!=
-1&&t[1][t[0]-1]){a.isFunction(c.onclickPgButtons)&&c.onclickPgButtons("prev",a("#"+w),t[1][t[0]]);h(t[1][t[0]-1],l);a(l).jqGrid("setSelection",t[1][t[0]-1]);a.isFunction(c.afterclickPgButtons)&&c.afterclickPgButtons("prev",a("#"+w),t[1][t[0]-1]);i(t[0]-1,t[1].length-1)}e();return false})}k=b();i(k[0],k[1].length-1)}})},delGridRow:function(f,c){d=c=a.extend({top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:false,drag:true,resize:true,url:"",mtype:"POST",reloadAfterSubmit:true,beforeShowForm:null,
afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:true,closeOnEscape:false,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:false,serializeDelData:null,useDataProxy:false},a.jgrid.del,c||{});return this.each(function(){var e=this;if(e.grid)if(f){var g=typeof c.beforeShowForm==="function"?true:false,h=typeof c.afterShowForm==="function"?true:false,i=e.p.id,b={},l="DelTbl_"+i,o,w,p,u,q={themodal:"delmod"+i,modalhead:"delhd"+i,modalcontent:"delcnt"+
i,scrollelm:l};if(jQuery.isArray(f))f=f.join();if(a("#"+q.themodal).html()!=null){a("#DelData>td","#"+l).text(f);a("#DelError","#"+l).hide();if(d.processing===true){d.processing=false;a("#dData","#"+l).removeClass("ui-state-active")}g&&c.beforeShowForm(a("#"+l));viewModal("#"+q.themodal,{gbox:"#gbox_"+i,jqm:c.jqModal,jqM:false,modal:c.modal})}else{var s=isNaN(c.dataheight)?c.dataheight:c.dataheight+"px";s="<div id='"+l+"' class='formdata' style='width:100%;overflow:auto;position:relative;height:"+
s+";'>";s+="<table class='DelTable'><tbody>";s+="<tr id='DelError' style='display:none'><td class='ui-state-error'></td></tr>";s+="<tr id='DelData' style='display:none'><td >"+f+"</td></tr>";s+='<tr><td class="delmsg" style="white-space:pre;">'+c.msg+"</td></tr><tr><td >&#160;</td></tr>";s+="</tbody></table></div>";s+="<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+l+"_2'><tbody><tr><td class='DataTD ui-widget-content'></td></tr><tr style='display:block;height:3px;'><td></td></tr><tr><td class='DelButton EditButton'>"+
("<a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>"+c.bSubmit+"</a>")+"&#160;"+("<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>"+c.bCancel+"</a>")+"</td></tr></tbody></table>";c.gbox="#gbox_"+i;createModal(q,s,c,"#gview_"+e.p.id,a("#gview_"+e.p.id)[0]);a(".fm-button","#"+l+"_2").hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});c.delicon=a.extend([true,"left","ui-icon-scissors"],
c.delicon);c.cancelicon=a.extend([true,"left","ui-icon-cancel"],c.cancelicon);if(c.delicon[0]===true)a("#dData","#"+l+"_2").addClass(c.delicon[1]=="right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+c.delicon[2]+"'></span>");if(c.cancelicon[0]===true)a("#eData","#"+l+"_2").addClass(c.cancelicon[1]=="right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+c.cancelicon[2]+"'></span>");a("#dData","#"+l+"_2").click(function(){var k=[true,""];
b={};var m=a("#DelData>td","#"+l).text();if(typeof c.onclickSubmit==="function")b=c.onclickSubmit(d,m)||{};if(typeof c.beforeSubmit==="function")k=c.beforeSubmit(m);if(k[0]&&!d.processing){d.processing=true;a(this).addClass("ui-state-active");p=e.p.prmNames;o=a.extend({},d.delData,b);u=p.oper;o[u]=p.deloper;w=p.id;o[w]=m;var v=a.extend({url:d.url?d.url:a(e).jqGrid("getGridParam","editurl"),type:c.mtype,data:a.isFunction(c.serializeDelData)?c.serializeDelData(o):o,complete:function(y,x){if(x!="success"){k[0]=
false;k[1]=a.isFunction(d.errorTextFormat)?d.errorTextFormat(y):x+" Status: '"+y.statusText+"'. Error code: "+y.status}else if(typeof d.afterSubmit==="function")k=d.afterSubmit(y,o);if(k[0]===false){a("#DelError>td","#"+l).html(k[1]);a("#DelError","#"+l).show()}else{if(d.reloadAfterSubmit&&e.p.datatype!="local")a(e).trigger("reloadGrid");else{x=[];x=m.split(",");if(e.p.treeGrid===true)try{a(e).jqGrid("delTreeNode",x[0])}catch(D){}else for(var M=0;M<x.length;M++)a(e).jqGrid("delRowData",x[M]);e.p.selrow=
null;e.p.selarrrow=[]}a.isFunction(d.afterComplete)&&setTimeout(function(){d.afterComplete(y,m)},500)}d.processing=false;a("#dData","#"+l+"_2").removeClass("ui-state-active");k[0]&&hideModal("#"+q.themodal,{gb:"#gbox_"+i,jqm:c.jqModal,onClose:d.onClose})},error:function(y,x,D){a("#DelError>td","#"+l).html(x+" : "+D);a("#DelError","#"+l).show();d.processing=false;a("#dData","#"+l+"_2").removeClass("ui-state-active")}},a.jgrid.ajaxOptions,c.ajaxDelOptions);if(!v.url&&!d.useDataProxy)if(a.isFunction(e.p.dataProxy))d.useDataProxy=
true;else{k[0]=false;k[1]+=" "+a.jgrid.errors.nourl}if(k[0])d.useDataProxy?e.p.dataProxy.call(e,v,"del_"+e.p.id):a.ajax(v)}if(k[0]===false){a("#DelError>td","#"+l).html(k[1]);a("#DelError","#"+l).show()}return false});a("#eData","#"+l+"_2").click(function(){hideModal("#"+q.themodal,{gb:"#gbox_"+i,jqm:c.jqModal,onClose:d.onClose});return false});g&&c.beforeShowForm(a("#"+l));viewModal("#"+q.themodal,{gbox:"#gbox_"+i,jqm:c.jqModal,modal:c.modal})}h&&c.afterShowForm(a("#"+l));c.closeOnEscape===true&&
setTimeout(function(){a(".ui-jqdialog-titlebar-close","#"+q.modalhead).focus()},0)}})},navGrid:function(f,c,e,g,h,i,b){c=a.extend({edit:true,editicon:"ui-icon-pencil",add:true,addicon:"ui-icon-plus",del:true,delicon:"ui-icon-trash",search:true,searchicon:"ui-icon-search",refresh:true,refreshicon:"ui-icon-refresh",refreshstate:"firstpage",view:false,viewicon:"ui-icon-document",position:"left",closeOnEscape:true,beforeRefresh:null,afterRefresh:null,cloneToTop:false},a.jgrid.nav,c||{});return this.each(function(){var l=
{themodal:"alertmod",modalhead:"alerthd",modalcontent:"alertcnt"},o=this,w,p,u;if(!(!o.grid||typeof f!="string")){if(a("#"+l.themodal).html()===null){if(typeof window.innerWidth!="undefined"){w=window.innerWidth;p=window.innerHeight}else if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!==0){w=document.documentElement.clientWidth;p=document.documentElement.clientHeight}else{w=1024;p=768}createModal(l,"<div>"+
c.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+o.p.id,jqModal:true,drag:true,resize:true,caption:c.alertcap,top:p/2-25,left:w/2-100,width:200,height:"auto",closeOnEscape:c.closeOnEscape},"","",true)}w=1;if(c.cloneToTop&&o.p.toppager)w=2;for(p=0;p<w;p++){var q=a("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr></tr></tbody></table>"),s,k;if(p===0){s=f;k=o.p.id;if(s==
o.p.toppager){k+="_top";w=1}}else{s=o.p.toppager;k=o.p.id+"_top"}o.p.direction=="rtl"&&a(q).attr("dir","rtl").css("float","right");if(c.add){g=g||{};u=a("<td class='ui-pg-button ui-corner-all'></td>");a(u).append("<div class='ui-pg-div'><span class='ui-icon "+c.addicon+"'></span>"+c.addtext+"</div>");a("tr",q).append(u);a(u,q).attr({title:c.addtitle||"",id:g.id||"add_"+k}).click(function(){a(this).hasClass("ui-state-disabled")||(typeof c.addfunc=="function"?c.addfunc():a(o).jqGrid("editGridRow","new",
g));return false}).hover(function(){a(this).hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});u=null}if(c.edit){u=a("<td class='ui-pg-button ui-corner-all'></td>");e=e||{};a(u).append("<div class='ui-pg-div'><span class='ui-icon "+c.editicon+"'></span>"+c.edittext+"</div>");a("tr",q).append(u);a(u,q).attr({title:c.edittitle||"",id:e.id||"edit_"+k}).click(function(){if(!a(this).hasClass("ui-state-disabled")){var m=o.p.selrow;if(m)typeof c.editfunc==
"function"?c.editfunc(m):a(o).jqGrid("editGridRow",m,e);else{viewModal("#"+l.themodal,{gbox:"#gbox_"+o.p.id,jqm:true});a("#jqg_alrt").focus()}}return false}).hover(function(){a(this).hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});u=null}if(c.view){u=a("<td class='ui-pg-button ui-corner-all'></td>");b=b||{};a(u).append("<div class='ui-pg-div'><span class='ui-icon "+c.viewicon+"'></span>"+c.viewtext+"</div>");a("tr",q).append(u);
a(u,q).attr({title:c.viewtitle||"",id:b.id||"view_"+k}).click(function(){if(!a(this).hasClass("ui-state-disabled")){var m=o.p.selrow;if(m)a(o).jqGrid("viewGridRow",m,b);else{viewModal("#"+l.themodal,{gbox:"#gbox_"+o.p.id,jqm:true});a("#jqg_alrt").focus()}}return false}).hover(function(){a(this).hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});u=null}if(c.del){u=a("<td class='ui-pg-button ui-corner-all'></td>");h=h||{};a(u).append("<div class='ui-pg-div'><span class='ui-icon "+
c.delicon+"'></span>"+c.deltext+"</div>");a("tr",q).append(u);a(u,q).attr({title:c.deltitle||"",id:h.id||"del_"+k}).click(function(){if(!a(this).hasClass("ui-state-disabled")){var m;if(o.p.multiselect){m=o.p.selarrrow;if(m.length===0)m=null}else m=o.p.selrow;if(m)"function"==typeof c.delfunc?c.delfunc(m):a(o).jqGrid("delGridRow",m,h);else{viewModal("#"+l.themodal,{gbox:"#gbox_"+o.p.id,jqm:true});a("#jqg_alrt").focus()}}return false}).hover(function(){a(this).hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},
function(){a(this).removeClass("ui-state-hover")});u=null}if(c.add||c.edit||c.del||c.view)a("tr",q).append("<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>");if(c.search){u=a("<td class='ui-pg-button ui-corner-all'></td>");i=i||{};a(u).append("<div class='ui-pg-div'><span class='ui-icon "+c.searchicon+"'></span>"+c.searchtext+"</div>");a("tr",q).append(u);a(u,q).attr({title:c.searchtitle||"",id:i.id||"search_"+k}).click(function(){a(this).hasClass("ui-state-disabled")||
a(o).jqGrid("searchGrid",i);return false}).hover(function(){a(this).hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});u=null}if(c.refresh){u=a("<td class='ui-pg-button ui-corner-all'></td>");a(u).append("<div class='ui-pg-div'><span class='ui-icon "+c.refreshicon+"'></span>"+c.refreshtext+"</div>");a("tr",q).append(u);a(u,q).attr({title:c.refreshtitle||"",id:"refresh_"+k}).click(function(){if(!a(this).hasClass("ui-state-disabled")){a.isFunction(c.beforeRefresh)&&
c.beforeRefresh();o.p.search=false;try{a("#fbox_"+o.p.id).searchFilter().reset({reload:false});a.isFunction(o.clearToolbar)&&o.clearToolbar(false)}catch(m){}switch(c.refreshstate){case "firstpage":a(o).trigger("reloadGrid",[{page:1}]);break;case "current":a(o).trigger("reloadGrid",[{current:true}]);break}a.isFunction(c.afterRefresh)&&c.afterRefresh()}return false}).hover(function(){a(this).hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});
u=null}u=a(".ui-jqgrid").css("font-size")||"11px";a("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+u+";visibility:hidden;' ></div>");u=a(q).clone().appendTo("#testpg2").width();a("#testpg2").remove();a(s+"_"+c.position,s).append(q);if(o.p._nvtd){if(u>o.p._nvtd[0]){a(s+"_"+c.position,s).width(u);o.p._nvtd[0]=u}o.p._nvtd[1]=u}q=u=u=null}}})},navButtonAdd:function(f,c){c=a.extend({caption:"newButton",title:"",buttonicon:"ui-icon-newwin",onClickButton:null,
position:"last",cursor:"pointer"},c||{});return this.each(function(){if(this.grid){if(f.indexOf("#")!==0)f="#"+f;var e=a(".navtable",f)[0],g=this;if(e){var h=a("<td></td>");c.buttonicon.toString().toUpperCase()=="NONE"?a(h).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'>"+c.caption+"</div>"):a(h).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'><span class='ui-icon "+c.buttonicon+"'></span>"+c.caption+"</div>");c.id&&a(h).attr("id",c.id);if(c.position==
"first")e.rows[0].cells.length===0?a("tr",e).append(h):a("tr td:eq(0)",e).before(h);else a("tr",e).append(h);a(h,e).attr("title",c.title||"").click(function(i){a(this).hasClass("ui-state-disabled")||a.isFunction(c.onClickButton)&&c.onClickButton.call(g,i);return false}).hover(function(){a(this).hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")})}}})},navSeparatorAdd:function(f,c){c=a.extend({sepclass:"ui-separator",sepcontent:""},c||
{});return this.each(function(){if(this.grid){if(f.indexOf("#")!==0)f="#"+f;var e=a(".navtable",f)[0];if(e){var g="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+c.sepclass+"'></span>"+c.sepcontent+"</td>";a("tr",e).append(g)}}})},GridToForm:function(f,c){return this.each(function(){var e=this;if(e.grid){var g=a(e).jqGrid("getRowData",f);if(g)for(var h in g)a("[name="+h+"]",c).is("input:radio")||a("[name="+h+"]",c).is("input:checkbox")?a("[name="+h+"]",c).each(function(){a(this).val()==
g[h]?a(this).attr("checked","checked"):a(this).attr("checked","")}):a("[name="+h+"]",c).val(g[h])}})},FormToGrid:function(f,c,e,g){return this.each(function(){var h=this;if(h.grid){e||(e="set");g||(g="first");var i=a(c).serializeArray(),b={};a.each(i,function(l,o){b[o.name]=o.value});if(e=="add")a(h).jqGrid("addRowData",f,b,g);else e=="set"&&a(h).jqGrid("setRowData",f,b)}})}})})(jQuery);
